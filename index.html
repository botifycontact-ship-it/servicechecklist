<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HYBRYD ‚Äî Presupuesto Mensual</title>
  <style>
    :root {
      --neon: #00ff41; --neon-dim: rgba(0,255,65,.1);
      --neon-glow: 0 0 8px #00ff41, 0 0 24px rgba(0,255,65,.4);
      --bg: #050a07; --surface: rgba(255,255,255,.03); --surface-2: rgba(255,255,255,.055);
      --border: rgba(0,255,65,.15); --border-hl: rgba(0,255,65,.5);
      --text: #c8d6cc; --text-dim: #4e6657; --white: #ffffff;
      --grid-color: rgba(0,255,65,.045); --r: 10px;
      --font: 'Inter','Segoe UI',system-ui,sans-serif;
      --c1:#00ff41; --c2:#7b61ff; --c3:#00cfff; --c4:#ff6b35; --c5:#ffcc00;
      --c6:#ff2d78; --c7:#25d366; --c8:#a78bfa;
    }
    *, *::before, *::after { box-sizing:border-box; margin:0; padding:0; }
    html { scroll-behavior:smooth; }
    body { font-family:var(--font); background:var(--bg); color:var(--text); line-height:1.6; min-height:100vh;
      background-image: linear-gradient(var(--grid-color) 1px,transparent 1px), linear-gradient(90deg,var(--grid-color) 1px,transparent 1px);
      background-size:40px 40px; }
    ::-webkit-scrollbar{width:4px} ::-webkit-scrollbar-track{background:var(--bg)} ::-webkit-scrollbar-thumb{background:#1a3a22;border-radius:4px}

    /* ‚îÄ‚îÄ LANG ‚îÄ‚îÄ */
    .lang-bar { position:fixed; top:0; left:0; right:0; z-index:200;
      display:flex; justify-content:flex-end; align-items:center;
      padding:10px 28px; gap:4px;
      background:linear-gradient(to bottom, rgba(5,10,7,.95) 70%, transparent);
      backdrop-filter:blur(8px); }
    .lang-btn { padding:5px 12px; border-radius:20px; font-size:10px; font-weight:700;
      letter-spacing:.14em; text-transform:uppercase; cursor:pointer;
      border:1px solid transparent; background:transparent; color:var(--text-dim);
      font-family:var(--font); transition:all .18s; }
    .lang-btn:hover { color:var(--neon); border-color:var(--border-hl); }
    .lang-btn.active { color:var(--bg); background:var(--neon); border-color:var(--neon); box-shadow:0 0 10px rgba(0,255,65,.3); }
    .lang-sep { width:1px; height:14px; background:var(--border); margin:0 2px; }

    /* ‚îÄ‚îÄ LAYOUT ‚îÄ‚îÄ */
    .block { padding:100px 0 110px; }
    .container { max-width:1240px; margin:0 auto; padding:0 28px; }

    /* ‚îÄ‚îÄ HEADER ‚îÄ‚îÄ */
    .section-header { text-align:center; margin-bottom:72px; }
    .eyebrow { font-size:9.5px; letter-spacing:.26em; text-transform:uppercase; color:var(--neon); margin-bottom:20px; display:block; }
    .section-title { font-size:clamp(26px,4vw,44px); font-weight:800; color:var(--white); letter-spacing:-.025em; line-height:1.12; margin-bottom:18px; }
    .section-title span { color:var(--neon); text-shadow:var(--neon-glow); }
    .section-subtitle { font-size:14.5px; color:var(--text-dim); max-width:640px; margin:0 auto; line-height:1.75; }

    /* ‚îÄ‚îÄ VALUE PROP ‚îÄ‚îÄ */
    .value-prop { max-width:820px; margin:0 auto 64px; padding:24px 28px; background:var(--surface);
      border:1px solid var(--border); border-radius:var(--r); text-align:center; }
    .value-prop-title { font-size:13px; letter-spacing:.2em; text-transform:uppercase; color:var(--neon); margin-bottom:12px; }
    .value-prop-text { font-size:14px; color:var(--text); line-height:1.75; }

    /* ‚îÄ‚îÄ MARKET REF ‚îÄ‚îÄ */
    .market-ref { max-width:820px; margin:0 auto 64px; padding:24px 28px; background:var(--surface);
      border:1px solid var(--border); border-radius:var(--r); }
    .market-ref-title { font-size:11px; letter-spacing:.2em; text-transform:uppercase; color:var(--neon); margin-bottom:12px; }
    .market-ref-grid { display:grid; grid-template-columns:repeat(auto-fit,minmax(200px,1fr)); gap:16px; }
    .market-ref-item { font-size:12px; color:var(--text); line-height:1.6; padding:8px 0; border-bottom:1px solid rgba(255,255,255,.05); }
    .market-ref-item:last-child { border-bottom:none; }
    .market-ref-label { color:var(--text-dim); display:block; font-size:10px; text-transform:uppercase; letter-spacing:.1em; margin-bottom:2px; }
    .market-ref-value { color:var(--white); font-weight:600; }

    /* ‚îÄ‚îÄ SECTION ‚îÄ‚îÄ */
    .pos-section { margin-bottom:60px; }
    .pos-header { display:flex; align-items:center; gap:14px; margin-bottom:22px; padding-bottom:16px; border-bottom:1px solid var(--border); }
    .pos-dot { width:8px; height:8px; border-radius:50%; flex-shrink:0; box-shadow:0 0 10px currentColor; }
    .pos-number { font-size:9px; letter-spacing:.22em; color:var(--text-dim); text-transform:uppercase; }
    .pos-name { font-size:15px; font-weight:700; color:var(--white); }
    .pos-desc { font-size:12px; color:var(--text-dim); margin-left:auto; max-width:460px; text-align:right; line-height:1.5; }

    /* ‚îÄ‚îÄ COVERS BADGE ‚îÄ‚îÄ */
    .covers-row { display:flex; flex-wrap:wrap; gap:5px; margin-bottom:10px; }
    .cover-badge { font-size:8.5px; letter-spacing:.1em; text-transform:uppercase; font-weight:700;
      padding:2px 8px; border-radius:20px; border:1px solid; opacity:.85; }

    /* ‚îÄ‚îÄ GRID ‚îÄ‚îÄ */
    .service-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(280px,1fr)); gap:14px; align-items:start; }

    /* ‚îÄ‚îÄ CARD ‚îÄ‚îÄ */
    .card { background:var(--surface); border:1px solid var(--border); border-radius:var(--r); padding:20px 20px 18px;
      position:relative; cursor:pointer; overflow:hidden;
      transition:border-color .22s,box-shadow .22s,background .22s,transform .18s;
      display:flex; flex-direction:column; }
    .card::before { content:''; position:absolute; top:0; left:0; right:0; height:2px;
      background:var(--accent,var(--neon)); opacity:0; transition:opacity .22s; }
    .card:hover { transform:translateY(-2px); background:var(--surface-2); }
    .card:hover::before { opacity:1; }
    .card.selected { border-color:var(--accent,var(--neon)); background:rgba(var(--accent-rgb,0,255,65),.07);
      box-shadow:0 0 0 1px var(--accent,var(--neon)),0 0 24px rgba(var(--accent-rgb,0,255,65),.14); }
    .card.selected::before { opacity:1; }
    .card-top { display:flex; justify-content:space-between; align-items:flex-start; gap:10px; margin-bottom:8px; }
    .card-title { font-size:13px; font-weight:600; color:var(--white); line-height:1.4; flex:1; }
    .card-check { flex-shrink:0; width:17px; height:17px; appearance:none; -webkit-appearance:none;
      border:1.5px solid var(--border-hl); border-radius:3px; background:transparent; cursor:pointer;
      position:relative; transition:border-color .18s,box-shadow .18s; margin-top:1px; }
    .card-check::after { content:''; position:absolute; inset:3px; background:var(--accent,var(--neon));
      border-radius:1px; opacity:0; transform:scale(.3); transition:opacity .16s,transform .16s; }
    .card-check:checked { border-color:var(--accent,var(--neon)); box-shadow:0 0 8px rgba(var(--accent-rgb,0,255,65),.5); }
    .card-check:checked::after { opacity:1; transform:scale(1); }
    .card-desc { font-size:12px; color:var(--text-dim); line-height:1.65; margin-bottom:14px; flex:1; }
    .card-includes { margin-bottom:12px; padding:10px; background:rgba(0,255,65,.04); border-radius:6px; border:1px solid var(--border); }
    .card-includes-title { font-size:9px; letter-spacing:.14em; text-transform:uppercase; color:var(--neon); margin-bottom:6px; }
    .card-includes-list { list-style:none; padding:0; margin:0; }
    .card-includes-list li { font-size:11px; color:var(--text); padding:3px 0; padding-left:14px; position:relative; }
    .card-includes-list li::before { content:'‚úì'; position:absolute; left:0; color:var(--neon); font-weight:700; }
    .card-footer { display:flex; align-items:center; justify-content:space-between; margin-top:auto; }
    .card-price { font-size:17px; font-weight:700; color:var(--accent,var(--neon)); text-shadow:0 0 12px rgba(var(--accent-rgb,0,255,65),.5); }
    .card-unit { font-size:10px; color:var(--text-dim); margin-left:3px; font-weight:400; }
    .card-badge { font-size:9px; letter-spacing:.1em; text-transform:uppercase; color:var(--bg);
      background:var(--accent,var(--neon)); padding:3px 7px; border-radius:20px; font-weight:700; opacity:.85; }

    /* ‚îÄ‚îÄ PLATFORM GRID (CM) ‚îÄ‚îÄ */
    .platform-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(175px,1fr)); gap:12px; margin-bottom:14px; }
    .platform-card { background:var(--surface); border:1px solid var(--border); border-radius:var(--r);
      padding:16px; cursor:pointer; position:relative; overflow:hidden;
      transition:border-color .22s,box-shadow .22s,background .22s,transform .18s;
      display:flex; flex-direction:column; align-items:center; gap:8px; text-align:center; }
    .platform-card::before { content:''; position:absolute; top:0; left:0; right:0; height:2px; background:var(--p-color,var(--neon)); opacity:0; transition:opacity .22s; }
    .platform-card:hover { transform:translateY(-2px); background:var(--surface-2); }
    .platform-card:hover::before { opacity:1; }
    .platform-card.selected { border-color:var(--p-color,var(--neon)); background:rgba(var(--p-rgb,0,255,65),.07);
      box-shadow:0 0 0 1px var(--p-color,var(--neon)),0 0 20px rgba(var(--p-rgb,0,255,65),.12); }
    .platform-card.selected::before { opacity:1; }
    .platform-icon { font-size:22px; line-height:1; }
    .platform-name { font-size:11px; font-weight:700; color:var(--white); letter-spacing:.06em; text-transform:uppercase; }
    .platform-price { font-size:16px; font-weight:800; color:var(--p-color,var(--neon)); text-shadow:0 0 10px rgba(var(--p-rgb,0,255,65),.5); }
    .platform-price-sub { font-size:9px; color:var(--text-dim); }
    .platform-check { position:absolute; top:8px; right:8px; width:14px; height:14px; appearance:none; -webkit-appearance:none;
      border:1.5px solid var(--border-hl); border-radius:3px; background:transparent; cursor:pointer; transition:border-color .18s; }
    .platform-check::after { content:''; position:absolute; inset:2px; background:var(--p-color,var(--neon)); border-radius:1px; opacity:0; transform:scale(.3); transition:opacity .16s,transform .16s; }
    .platform-check:checked { border-color:var(--p-color,var(--neon)); }
    .platform-check:checked::after { opacity:1; transform:scale(1); }

    /* ‚îÄ‚îÄ DESIGN COUNTER CARD ‚îÄ‚îÄ */
    .design-counter-card { background:var(--surface); border:1px solid var(--border); border-radius:var(--r);
      padding:22px; position:relative; overflow:hidden; display:flex; flex-direction:column; gap:14px;
      transition:border-color .22s,background .22s; }
    .design-counter-card::before { content:''; position:absolute; top:0; left:0; right:0; height:2px; background:var(--c3); opacity:0; transition:opacity .22s; }
    .design-counter-card.has-selection { border-color:var(--c3); background:rgba(0,207,255,.04);
      box-shadow:0 0 0 1px var(--c3),0 0 24px rgba(0,207,255,.10); }
    .design-counter-card.has-selection::before { opacity:1; }
    .dcc-header { display:flex; justify-content:space-between; align-items:flex-start; gap:12px; }
    .dcc-title { font-size:13px; font-weight:600; color:var(--white); }
    .dcc-desc { font-size:11.5px; color:var(--text-dim); line-height:1.65; }

    .counter-row { display:flex; align-items:center; gap:10px;
      padding:10px 12px; background:rgba(0,207,255,.03); border:1px solid rgba(0,207,255,.1); border-radius:8px;
      transition:background .2s, border-color .2s; }
    .counter-row.active { background:rgba(0,207,255,.07); border-color:rgba(0,207,255,.35); }
    .counter-row-info { flex:1; min-width:0; }
    .counter-row-name { font-size:11.5px; color:var(--text); font-weight:600; }
    .counter-row-sub { font-size:9.5px; color:var(--text-dim); margin-top:1px; display:flex; align-items:center; gap:6px; flex-wrap:wrap; }
    .discount-tag { font-size:8.5px; font-weight:700; color:#ff6b35; background:rgba(255,107,53,.12); border:1px solid rgba(255,107,53,.3); padding:1px 6px; border-radius:10px; }
    .active-discount-tag { font-size:8.5px; font-weight:700; color:#00ff41; background:rgba(0,255,65,.1); border:1px solid rgba(0,255,65,.3); padding:1px 6px; border-radius:10px; }
    .counter-controls { display:flex; align-items:center; gap:0; flex-shrink:0; }
    .counter-btn { width:28px; height:28px; border:1px solid rgba(0,207,255,.25); background:transparent;
      color:var(--c3); font-size:16px; font-weight:700; cursor:pointer; border-radius:6px;
      display:flex; align-items:center; justify-content:center;
      transition:background .15s, border-color .15s, transform .1s;
      font-family:var(--font); line-height:1; user-select:none; }
    .counter-btn:hover { background:rgba(0,207,255,.12); border-color:var(--c3); transform:scale(1.08); }
    .counter-btn:active { transform:scale(.94); }
    .counter-value { min-width:40px; text-align:center; font-size:20px; font-weight:800; color:var(--white);
      padding:0 6px; font-variant-numeric:tabular-nums; }
    .counter-value.bump { animation:bump .2s ease; color:var(--c3); }
    @keyframes bump { 0%{transform:scale(.75)} 55%{transform:scale(1.22)} 100%{transform:scale(1)} }
    .counter-row-price { font-size:13px; font-weight:700; color:var(--c3); min-width:64px; text-align:right; flex-shrink:0; }
    .counter-row-price.zero { color:var(--text-dim); }
    .dcc-total-row { display:flex; justify-content:space-between; align-items:center; padding:12px 14px;
      background:rgba(0,207,255,.07); border:1px solid rgba(0,207,255,.25); border-radius:8px; }
    .dcc-total-label { font-size:10px; letter-spacing:.14em; text-transform:uppercase; color:var(--c3); }
    .dcc-total-price { font-size:20px; font-weight:800; color:var(--c3); text-shadow:0 0 10px rgba(0,207,255,.4); }

    /* ‚îÄ‚îÄ DIVIDER ‚îÄ‚îÄ */
    .divider { height:1px; background:linear-gradient(90deg,transparent,var(--border),transparent); margin:64px 0; }

    /* ‚îÄ‚îÄ SUB LABEL ‚îÄ‚îÄ */
    .sub-section-label { font-size:10px; letter-spacing:.2em; text-transform:uppercase; color:var(--text-dim); margin-bottom:10px; margin-top:4px; }

    /* ‚îÄ‚îÄ STICKY ‚îÄ‚îÄ */
    .summary-sticky { position:sticky; bottom:24px; z-index:100; pointer-events:none; }
    .summary-pill { pointer-events:all; max-width:700px; margin:0 auto;
      background:rgba(5,10,7,.92); border:1px solid var(--border-hl); border-radius:14px;
      backdrop-filter:blur(18px); box-shadow:0 0 40px rgba(0,255,65,.12),0 8px 32px rgba(0,0,0,.6);
      padding:20px 28px; display:flex; align-items:center; gap:24px; flex-wrap:wrap; }
    .summary-counts { display:flex; gap:20px; flex:1; flex-wrap:wrap; }
    .summary-count-item { text-align:center; }
    .summary-count-num { font-size:18px; font-weight:800; display:block; line-height:1; }
    .summary-count-label { font-size:9px; letter-spacing:.14em; text-transform:uppercase; color:var(--text-dim); display:block; margin-top:4px; }
    .summary-sep { width:1px; height:40px; background:var(--border); flex-shrink:0; }
    .summary-total-wrap { text-align:right; }
    .summary-total-label { font-size:9px; letter-spacing:.18em; text-transform:uppercase; color:var(--text-dim); display:block; margin-bottom:2px; }
    .summary-total-num { font-size:26px; font-weight:800; color:var(--neon); text-shadow:var(--neon-glow); line-height:1; }

    /* ‚îÄ‚îÄ BREAKDOWN ‚îÄ‚îÄ */
    .breakdown { max-width:680px; margin:0 auto; }
    .breakdown-header { text-align:center; margin-bottom:32px; }
    .breakdown-header h2 { font-size:11px; letter-spacing:.22em; text-transform:uppercase; color:var(--neon); margin-bottom:8px; }
    .breakdown-header p { font-size:13px; color:var(--text-dim); }
    .breakdown-card { background:var(--surface); border:1px solid var(--border); border-radius:var(--r); overflow:hidden; }
    .breakdown-list { padding:22px 26px 4px; min-height:54px; }
    .breakdown-empty { font-size:12px; color:var(--text-dim); font-style:italic; padding-bottom:18px; }
    .b-item { display:flex; justify-content:space-between; align-items:center; padding:9px 0; border-bottom:1px solid var(--border); animation:fadeIn .2s ease; }
    .b-item:last-child { border-bottom:none; }
    @keyframes fadeIn { from{opacity:0;transform:translateY(-5px)} to{opacity:1;transform:translateY(0)} }
    .b-item-left { display:flex; align-items:center; gap:9px; }
    .b-dot { width:6px; height:6px; border-radius:50%; flex-shrink:0; }
    .b-name { font-size:12.5px; color:var(--text); }
    .b-price { font-size:13px; font-weight:600; color:var(--white); flex-shrink:0; margin-left:16px; }
    .breakdown-totals { border-top:1px solid var(--border-hl); padding:22px 26px; background:rgba(0,255,65,.02); }
    .bt-row { display:flex; justify-content:space-between; align-items:center; margin-bottom:10px; }
    .bt-row:last-child { margin-bottom:0; }
    .bt-label { font-size:11.5px; color:var(--text-dim); text-transform:uppercase; letter-spacing:.1em; }
    .bt-val { font-size:14px; color:var(--text); font-weight:500; }
    .bt-row.discount .bt-label,.bt-row.discount .bt-val { color:#ff6b35; font-weight:700; }
    .bt-row.final .bt-label { font-size:13px; font-weight:700; color:var(--white); letter-spacing:.12em; }
    .bt-row.final .bt-val { font-size:30px; font-weight:800; color:var(--neon); text-shadow:var(--neon-glow); }
    .bt-sep { height:1px; background:var(--border); margin:14px 0; }
    .counting { animation:pulse .3s ease; }
    @keyframes pulse { 0%{opacity:.5;transform:scale(.96)} 60%{opacity:1;transform:scale(1.03)} 100%{opacity:1;transform:scale(1)} }

    /* ‚îÄ‚îÄ ACTIONS ‚îÄ‚îÄ */
    .actions { display:flex; gap:12px; margin-top:24px; flex-wrap:wrap; }
    .btn { flex:1; min-width:190px; padding:14px 20px; border-radius:8px; font-size:11px; font-weight:700;
      letter-spacing:.18em; text-transform:uppercase; cursor:pointer; transition:all .2s;
      border:none; font-family:var(--font); text-align:center; }
    .btn-primary { background:var(--neon); color:#050a07; box-shadow:0 0 18px rgba(0,255,65,.3); }
    .btn-primary:hover { box-shadow:0 0 32px rgba(0,255,65,.55); transform:translateY(-1px); }
    .btn-outline { background:transparent; color:var(--neon); border:1.5px solid var(--border-hl); }
    .btn-outline:hover { border-color:var(--neon); background:var(--neon-dim); transform:translateY(-1px); }
    .btn-reset { background:transparent; color:var(--text-dim); border:1.5px solid rgba(255,255,255,.08); }
    .btn-reset:hover { color:#ff4444; border-color:rgba(255,68,68,.4); background:rgba(255,68,68,.06); }

    /* ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ */
    .footer-line { text-align:center; margin-top:80px; padding-top:40px; border-top:1px solid var(--border); }
    .footer-line p { font-size:12px; letter-spacing:.24em; text-transform:uppercase; color:var(--text-dim); }
    .footer-line p strong { color:var(--neon); text-shadow:0 0 14px rgba(0,255,65,.35); }

    /* ‚îÄ‚îÄ TOAST ‚îÄ‚îÄ */
    .toast { position:fixed; bottom:110px; right:28px; background:#050a07; border:1px solid var(--neon);
      color:var(--neon); padding:12px 20px; border-radius:8px; font-size:11.5px; letter-spacing:.08em;
      box-shadow:0 0 20px rgba(0,255,65,.25); opacity:0; transform:translateY(10px);
      transition:all .28s; z-index:999; pointer-events:none; max-width:320px; }
    .toast.show { opacity:1; transform:translateY(0); }

    @media(max-width:700px){
      .pos-desc{display:none}
      .summary-pill{padding:16px 18px;gap:14px}
      .summary-total-num{font-size:20px}
      .platform-grid{grid-template-columns:repeat(auto-fill,minmax(130px,1fr));}
    }
  </style>
</head>
<body>

<!-- LANG BAR -->
<div class="lang-bar">
  <button class="lang-btn active" onclick="setLang('es')">ES</button>
  <div class="lang-sep"></div>
  <button class="lang-btn" onclick="setLang('en')">EN</button>
  <div class="lang-sep"></div>
  <button class="lang-btn" onclick="setLang('de')">DE</button>
  <div class="lang-sep"></div>
  <button class="lang-btn" onclick="setLang('sv')">SV</button>
</div>

<section class="block">
<div class="container">

  <!-- HEADER -->
  <div class="section-header">
    <span class="eyebrow" data-i18n="eyebrow">Servicio Integral de Marketing y Comunicaci√≥n</span>
    <h1 class="section-title"><span>HYBRYD</span> ‚Äî <span data-i18n="title">Construye tu Proyecto a Medida</span></h1>
    <p class="section-subtitle" data-i18n="subtitle">Selecciona √∫nicamente los servicios que necesitas. Cada categor√≠a es independiente ‚Äî t√∫ decides qu√© incluir, cu√°nto invertir y c√≥mo crecer. Nosotros ejecutamos con precisi√≥n profesional.</p>
  </div>

  <!-- VALUE PROP -->
  <div class="value-prop">
    <div class="value-prop-title" data-i18n="valueTitle">Tu √∫nico trabajo: cuidar a tus clientes</div>
    <p class="value-prop-text" data-i18n="valueText">Nos encargamos de que tu negocio crezca en digital mientras t√∫ te dedicas a lo que mejor haces: construir relaciones reales con cada persona que conf√≠a en ti. Marketing, redes, campa√±as, an√°lisis, producci√≥n ‚Äî todo cubierto.</p>
  </div>

  <!-- MARKET REF -->
  <div class="market-ref">
    <div class="market-ref-title" data-i18n="refTitle">Referencias de mercado Espa√±a 2026 ‚Äî coste mensual de contratar estas posiciones por separado</div>
    <div class="market-ref-grid">
      <div class="market-ref-item">
        <span class="market-ref-label">Community Manager in-house</span>
        <span class="market-ref-value">1.400‚Ç¨ ‚Äì 2.200‚Ç¨</span>
      </div>
      <div class="market-ref-item">
        <span class="market-ref-label">Dise√±ador gr√°fico in-house</span>
        <span class="market-ref-value">1.300‚Ç¨ ‚Äì 2.000‚Ç¨</span>
      </div>
      <div class="market-ref-item">
        <span class="market-ref-label">Email marketing manager</span>
        <span class="market-ref-value">1.200‚Ç¨ ‚Äì 1.800‚Ç¨</span>
      </div>
      <div class="market-ref-item">
        <span class="market-ref-label">Paid ads specialist</span>
        <span class="market-ref-value">1.500‚Ç¨ ‚Äì 2.500‚Ç¨</span>
      </div>
      <div class="market-ref-item">
        <span class="market-ref-label">Content producer / coordinator</span>
        <span class="market-ref-value">1.400‚Ç¨ ‚Äì 2.000‚Ç¨</span>
      </div>
      <div class="market-ref-item">
        <span class="market-ref-label">Digital analyst</span>
        <span class="market-ref-value">1.300‚Ç¨ ‚Äì 2.200‚Ç¨</span>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!-- 01 ‚Äî TAREAS MENSUALES -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="pos-section" data-pos="1">
    <div class="pos-header">
      <div class="pos-dot" style="color:var(--c1);background:var(--c1);"></div>
      <div>
        <div class="pos-number" data-i18n="pos1num">01 ‚Äî Tareas Mensuales</div>
        <div class="pos-name" data-i18n="pos1name">Planificaci√≥n y ejecuci√≥n mensual de tu proyecto</div>
      </div>
      <div class="pos-desc" data-i18n="pos1desc">Roadmap, producci√≥n de contenido y actualizaciones continuas</div>
    </div>
    <div class="service-grid">

      <!-- Roadmap 1-7 -->
      <div class="card" style="--accent:var(--c1);--accent-rgb:0,255,65;" data-pos="1" data-svc="monthly_roadmap" data-base-price="280" onclick="toggleCard(this)">
        <div class="card-top"><span class="card-title" data-i18n="monthly_roadmap_title">Roadmap Mensual <small style="font-weight:400;opacity:.6">d√≠as 1‚Äì7</small></span><input type="checkbox" class="card-check" onclick="event.stopPropagation()"></div>
        <p class="card-desc" data-i18n="monthly_roadmap_desc">Planificaci√≥n editorial y estrat√©gica de todo el mes. Definici√≥n de objetivos, calendario de publicaciones, prioridades de comunicaci√≥n y briefing al equipo. Se entrega en los primeros 7 d√≠as del mes para que todo el proyecto arranque alineado.</p>
        <div class="card-includes">
          <div class="card-includes-title" data-i18n="includes">Incluye:</div>
          <ul class="card-includes-list">
            <li>Calendar editorial mensual completo</li>
            <li>Definici√≥n de objetivos y KPIs</li>
            <li>Briefing de contenido y dise√±o</li>
            <li>Coordinaci√≥n de prioridades del mes</li>
          </ul>
        </div>
        <div class="card-footer"><div><span class="card-price">280‚Ç¨</span><span class="card-unit">/ mes</span></div><span class="card-badge">Mensual</span></div>
      </div>

      <!-- Content 7-14 -->
      <div class="card" style="--accent:var(--c1);--accent-rgb:0,255,65;" data-pos="1" data-svc="monthly_content" data-base-price="320" onclick="toggleCard(this)">
        <div class="card-top"><span class="card-title" data-i18n="monthly_content_title">Producci√≥n de Contenido <small style="font-weight:400;opacity:.6">d√≠as 7‚Äì14</small></span><input type="checkbox" class="card-check" onclick="event.stopPropagation()"></div>
        <p class="card-desc" data-i18n="monthly_content_desc">Ejecuci√≥n de todo el contenido planificado en el roadmap: copies, guiones, textos para redes y materiales de comunicaci√≥n. Producci√≥n completa y revisada, lista para publicar durante la segunda semana del mes.</p>
        <div class="card-includes">
          <div class="card-includes-title" data-i18n="includes">Incluye:</div>
          <ul class="card-includes-list">
            <li>Copies para redes sociales</li>
            <li>Guiones para v√≠deos y reels</li>
            <li>Textos de comunicaci√≥n y anuncios</li>
            <li>Revisi√≥n y aprobaci√≥n incluida</li>
          </ul>
        </div>
        <div class="card-footer"><div><span class="card-price">320‚Ç¨</span><span class="card-unit">/ mes</span></div><span class="card-badge">Mensual</span></div>
      </div>

      <!-- Content Updates -->
      <div class="card" style="--accent:var(--c1);--accent-rgb:0,255,65;" data-pos="1" data-svc="monthly_updates" data-base-price="180" onclick="toggleCard(this)">
        <div class="card-top"><span class="card-title" data-i18n="monthly_updates_title">Actualizaciones de Contenido</span><input type="checkbox" class="card-check" onclick="event.stopPropagation()"></div>
        <p class="card-desc" data-i18n="monthly_updates_desc">Ajustes y actualizaciones del contenido publicado durante el mes: modificaciones de textos, actualizaci√≥n de informaci√≥n, cambios de √∫ltima hora y optimizaciones basadas en rendimiento real.</p>
        <div class="card-includes">
          <div class="card-includes-title" data-i18n="includes">Incluye:</div>
          <ul class="card-includes-list">
            <li>Modificaciones en contenido activo</li>
            <li>Actualizaci√≥n de informaci√≥n y datos</li>
            <li>Optimizaci√≥n continua por rendimiento</li>
          </ul>
        </div>
        <div class="card-footer"><div><span class="card-price">180‚Ç¨</span><span class="card-unit">/ mes</span></div><span class="card-badge">Mensual</span></div>
      </div>

    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!-- 02 ‚Äî EMAIL MARKETING & WHATSAPP -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="pos-section" data-pos="2">
    <div class="pos-header">
      <div class="pos-dot" style="color:var(--c2);background:var(--c2);"></div>
      <div>
        <div class="pos-number" data-i18n="pos2num">02 ‚Äî Email Marketing & WhatsApp</div>
        <div class="pos-name" data-i18n="pos2name">Comunicaci√≥n directa semanal con tu base de clientes</div>
      </div>
      <div class="pos-desc" data-i18n="pos2desc">Exclusivamente Email y WhatsApp ‚Äî no incluye redes sociales</div>
    </div>
    <div class="service-grid">

      <!-- Email (+300) / WhatsApp -->
      <div class="card" style="--accent:var(--c2);--accent-rgb:123,97,255;" data-pos="2" data-svc="email_campaigns" data-base-price="300" onclick="toggleCard(this)">
        <div class="card-top"><span class="card-title" data-i18n="email_campaigns_title">Campa√±as Semanales Email + WhatsApp</span><input type="checkbox" class="card-check" onclick="event.stopPropagation()"></div>
        <div class="covers-row">
          <span class="cover-badge" style="color:#7b61ff;border-color:rgba(123,97,255,.3);background:rgba(123,97,255,.08);">‚úâÔ∏è Email</span>
          <span class="cover-badge" style="color:#25d366;border-color:rgba(37,211,102,.3);background:rgba(37,211,102,.08);">üí¨ WhatsApp</span>
        </div>
        <p class="card-desc" data-i18n="email_campaigns_desc">Env√≠o semanal de campa√±as coordinadas por Email y WhatsApp (+300‚Ç¨/mes). 4 env√≠os mensuales por canal con dise√±o, copy y segmentaci√≥n de audiencia. An√°lisis de m√©tricas post-env√≠o para optimizar continuamente.</p>
        <div class="card-includes">
          <div class="card-includes-title" data-i18n="includes">Incluye:</div>
          <ul class="card-includes-list">
            <li>4 campa√±as de email al mes</li>
            <li>4 env√≠os de WhatsApp coordinados</li>
            <li>Dise√±o, copy y segmentaci√≥n</li>
            <li>An√°lisis de resultados y optimizaci√≥n</li>
          </ul>
        </div>
        <div class="card-footer"><div><span class="card-price">300‚Ç¨</span><span class="card-unit">/ mes</span></div><span class="card-badge">Semanal</span></div>
      </div>

      <!-- Recordatorios -->
      <div class="card" style="--accent:var(--c2);--accent-rgb:123,97,255;" data-pos="2" data-svc="email_reminders" data-base-price="180" onclick="toggleCard(this)">
        <div class="card-top"><span class="card-title" data-i18n="email_reminders_title">Recordatorios Autom√°ticos</span><input type="checkbox" class="card-check" onclick="event.stopPropagation()"></div>
        <div class="covers-row">
          <span class="cover-badge" style="color:#7b61ff;border-color:rgba(123,97,255,.3);background:rgba(123,97,255,.08);">‚úâÔ∏è Email</span>
          <span class="cover-badge" style="color:#25d366;border-color:rgba(37,211,102,.3);background:rgba(37,211,102,.08);">üí¨ WhatsApp</span>
        </div>
        <p class="card-desc" data-i18n="email_reminders_desc">Recordatorios estrat√©gicos por Email y WhatsApp: citas, eventos, renovaciones, lanzamientos y avisos de servicio. Reduce el no-show y mantiene a tus clientes informados sin que inviertas tu tiempo.</p>
        <div class="card-includes">
          <div class="card-includes-title" data-i18n="includes">Incluye:</div>
          <ul class="card-includes-list">
            <li>Recordatorios autom√°ticos de citas y eventos</li>
            <li>Avisos de renovaci√≥n y seguimiento</li>
            <li>Configuraci√≥n de flujos autom√°ticos</li>
          </ul>
        </div>
        <div class="card-footer"><div><span class="card-price">180‚Ç¨</span><span class="card-unit">/ mes</span></div><span class="card-badge">Semanal</span></div>
      </div>

      <!-- Roadmaps / Comunicados -->
      <div class="card" style="--accent:var(--c2);--accent-rgb:123,97,255;" data-pos="2" data-svc="email_roadmaps" data-base-price="220" onclick="toggleCard(this)">
        <div class="card-top"><span class="card-title" data-i18n="email_roadmaps_title">Roadmaps & Comunicados</span><input type="checkbox" class="card-check" onclick="event.stopPropagation()"></div>
        <div class="covers-row">
          <span class="cover-badge" style="color:#7b61ff;border-color:rgba(123,97,255,.3);background:rgba(123,97,255,.08);">‚úâÔ∏è Email</span>
          <span class="cover-badge" style="color:#25d366;border-color:rgba(37,211,102,.3);background:rgba(37,211,102,.08);">üí¨ WhatsApp</span>
        </div>
        <p class="card-desc" data-i18n="email_roadmaps_desc">Comunicaci√≥n estrat√©gica con tu base de datos: presentaci√≥n de novedades, lanzamientos de producto, cambios de servicio y comunicados corporativos. Redacci√≥n profesional con tono y dise√±o de tu marca.</p>
        <div class="card-includes">
          <div class="card-includes-title" data-i18n="includes">Incluye:</div>
          <ul class="card-includes-list">
            <li>Campa√±as de lanzamiento y novedades</li>
            <li>Comunicados corporativos</li>
            <li>Plantillas de marca personalizadas</li>
          </ul>
        </div>
        <div class="card-footer"><div><span class="card-price">220‚Ç¨</span><span class="card-unit">/ mes</span></div><span class="card-badge">Mensual</span></div>
      </div>

    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!-- 03 ‚Äî ASISTENTE PERSONAL -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="pos-section" data-pos="3">
    <div class="pos-header">
      <div class="pos-dot" style="color:var(--c8);background:var(--c8);"></div>
      <div>
        <div class="pos-number" data-i18n="pos3num">03 ‚Äî Asistente Personal</div>
        <div class="pos-name" data-i18n="pos3name">Gesti√≥n diaria de tu operaci√≥n digital</div>
      </div>
      <div class="pos-desc" data-i18n="pos3desc">Base de datos, links y mensajes diarios gestionados</div>
    </div>
    <div class="service-grid">

      <!-- Database -->
      <div class="card" style="--accent:var(--c8);--accent-rgb:167,139,250;" data-pos="3" data-svc="pa_database" data-base-price="220" onclick="toggleCard(this)">
        <div class="card-top"><span class="card-title" data-i18n="pa_database_title">Gesti√≥n de Base de Datos</span><input type="checkbox" class="card-check" onclick="event.stopPropagation()"></div>
        <p class="card-desc" data-i18n="pa_database_desc">Organizaci√≥n y mantenimiento continuo de tu base de datos de clientes: limpieza, segmentaci√≥n por comportamiento, etiquetado y actualizaci√≥n de contactos. Tu base siempre lista, usable y optimizada para cada campa√±a.</p>
        <div class="card-includes">
          <div class="card-includes-title" data-i18n="includes">Incluye:</div>
          <ul class="card-includes-list">
            <li>Limpieza y deduplicaci√≥n mensual</li>
            <li>Segmentaci√≥n y etiquetado de contactos</li>
            <li>Actualizaci√≥n y mantenimiento continuo</li>
          </ul>
        </div>
        <div class="card-footer"><div><span class="card-price">220‚Ç¨</span><span class="card-unit">/ mes</span></div><span class="card-badge">Diario</span></div>
      </div>

      <!-- Links -->
      <div class="card" style="--accent:var(--c8);--accent-rgb:167,139,250;" data-pos="3" data-svc="pa_links" data-base-price="150" onclick="toggleCard(this)">
        <div class="card-top"><span class="card-title" data-i18n="pa_links_title">Gesti√≥n de Links & Recursos</span><input type="checkbox" class="card-check" onclick="event.stopPropagation()"></div>
        <p class="card-desc" data-i18n="pa_links_desc">Organizaci√≥n y mantenimiento de todos tus enlaces digitales: bio de redes, landing pages, formularios, recursos descargables y enlaces de seguimiento. Todo actualizado, funcionando y f√°cil de gestionar.</p>
        <div class="card-includes">
          <div class="card-includes-title" data-i18n="includes">Incluye:</div>
          <ul class="card-includes-list">
            <li>Bio links y landings actualizados</li>
            <li>Monitoreo de enlaces rotos</li>
            <li>Organizaci√≥n de recursos digitales</li>
          </ul>
        </div>
        <div class="card-footer"><div><span class="card-price">150‚Ç¨</span><span class="card-unit">/ mes</span></div><span class="card-badge">Diario</span></div>
      </div>

      <!-- Daily Messages -->
      <div class="card" style="--accent:var(--c8);--accent-rgb:167,139,250;" data-pos="3" data-svc="pa_messages" data-base-price="280" onclick="toggleCard(this)">
        <div class="card-top"><span class="card-title" data-i18n="pa_messages_title">Mensajes Diarios</span><input type="checkbox" class="card-check" onclick="event.stopPropagation()"></div>
        <p class="card-desc" data-i18n="pa_messages_desc">Gesti√≥n de mensajes diarios en tu nombre: seguimientos, confirmaciones, respuestas de soporte y comunicaci√≥n proactiva con clientes. Presencia constante y profesional sin que inviertas tu tiempo.</p>
        <div class="card-includes">
          <div class="card-includes-title" data-i18n="includes">Incluye:</div>
          <ul class="card-includes-list">
            <li>Respuesta en menos de 4h laborables</li>
            <li>Voz de marca consistente</li>
            <li>Identificaci√≥n y escalado de urgencias</li>
          </ul>
        </div>
        <div class="card-footer"><div><span class="card-price">280‚Ç¨</span><span class="card-unit">/ mes</span></div><span class="card-badge">Diario</span></div>
      </div>

    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!-- 04 ‚Äî DISE√ëO GR√ÅFICO (COUNTER) -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="pos-section" data-pos="4">
    <div class="pos-header">
      <div class="pos-dot" style="color:var(--c3);background:var(--c3);"></div>
      <div>
        <div class="pos-number" data-i18n="pos4num">04 ‚Äî Dise√±o Gr√°fico</div>
        <div class="pos-name" data-i18n="pos4name">Elige exactamente cu√°ntas piezas necesitas</div>
      </div>
      <div class="pos-desc" data-i18n="pos4desc">x3 stories semanales ¬∑ 4 posts mensuales ¬∑ descuentos por volumen</div>
    </div>

    <div class="design-counter-card" id="designCounterCard">
      <div class="dcc-header">
        <div>
          <div class="dcc-title" data-i18n="dg_title">Configura tu pack de dise√±o mensual</div>
          <div class="dcc-desc" style="margin-top:5px;" data-i18n="dg_desc">Ajusta la cantidad de cada pieza. El precio se calcula en tiempo real con descuentos autom√°ticos por volumen.</div>
        </div>
      </div>

      <!-- Stories -->
      <div class="counter-row" id="cr_stories">
        <div class="counter-row-info">
          <div class="counter-row-name">üì± <span data-i18n="dg_stories_name">Historias (Stories)</span></div>
          <div class="counter-row-sub">
            <span>14‚Ç¨ c/u</span>
            <span class="discount-tag" id="dt_stories">‚àí10% a partir de 30</span>
          </div>
        </div>
        <div class="counter-controls">
          <button class="counter-btn" onclick="adjustCounter('stories',-1)">‚àí</button>
          <div class="counter-value" id="cv_stories">0</div>
          <button class="counter-btn" onclick="adjustCounter('stories',1)">+</button>
        </div>
        <div class="counter-row-price zero" id="cp_stories">0‚Ç¨</div>
      </div>

      <!-- Posts Feed -->
      <div class="counter-row" id="cr_feedposts">
        <div class="counter-row-info">
          <div class="counter-row-name">üñºÔ∏è <span data-i18n="dg_feedposts_name">Posts de Feed</span></div>
          <div class="counter-row-sub">
            <span>38‚Ç¨ c/u</span>
          </div>
        </div>
        <div class="counter-controls">
          <button class="counter-btn" onclick="adjustCounter('feedposts',-1)">‚àí</button>
          <div class="counter-value" id="cv_feedposts">0</div>
          <button class="counter-btn" onclick="adjustCounter('feedposts',1)">+</button>
        </div>
        <div class="counter-row-price zero" id="cp_feedposts">0‚Ç¨</div>
      </div>

      <!-- Carruseles -->
      <div class="counter-row" id="cr_carousels">
        <div class="counter-row-info">
          <div class="counter-row-name">üé† <span data-i18n="dg_carousels_name">Pack Carruseles</span></div>
          <div class="counter-row-sub">
            <span>55‚Ç¨ c/u</span>
            <span class="discount-tag" id="dt_carousels">‚àí12% a partir de 6</span>
          </div>
        </div>
        <div class="counter-controls">
          <button class="counter-btn" onclick="adjustCounter('carousels',-1)">‚àí</button>
          <div class="counter-value" id="cv_carousels">0</div>
          <button class="counter-btn" onclick="adjustCounter('carousels',1)">+</button>
        </div>
        <div class="counter-row-price zero" id="cp_carousels">0‚Ç¨</div>
      </div>

      <!-- Reels / TikTok -->
      <div class="counter-row" id="cr_reels">
        <div class="counter-row-info">
          <div class="counter-row-name">üé¨ <span data-i18n="dg_reels_name">Portadas Reels / TikTok</span></div>
          <div class="counter-row-sub"><span>22‚Ç¨ c/u</span></div>
        </div>
        <div class="counter-controls">
          <button class="counter-btn" onclick="adjustCounter('reels',-1)">‚àí</button>
          <div class="counter-value" id="cv_reels">0</div>
          <button class="counter-btn" onclick="adjustCounter('reels',1)">+</button>
        </div>
        <div class="counter-row-price zero" id="cp_reels">0‚Ç¨</div>
      </div>

      <!-- Banners -->
      <div class="counter-row" id="cr_banners">
        <div class="counter-row-info">
          <div class="counter-row-name">üì£ <span data-i18n="dg_banners_name">Banners & Piezas de Ads</span></div>
          <div class="counter-row-sub"><span>40‚Ç¨ c/u ‚Äî todos los formatos</span></div>
        </div>
        <div class="counter-controls">
          <button class="counter-btn" onclick="adjustCounter('banners',-1)">‚àí</button>
          <div class="counter-value" id="cv_banners">0</div>
          <button class="counter-btn" onclick="adjustCounter('banners',1)">+</button>
        </div>
        <div class="counter-row-price zero" id="cp_banners">0‚Ç¨</div>
      </div>

      <!-- Email graphics -->
      <div class="counter-row" id="cr_emailgfx">
        <div class="counter-row-info">
          <div class="counter-row-name">‚úâÔ∏è <span data-i18n="dg_emailgfx_name">Gr√°ficos para Email</span></div>
          <div class="counter-row-sub"><span>28‚Ç¨ c/u ‚Äî header + banner + CTA</span></div>
        </div>
        <div class="counter-controls">
          <button class="counter-btn" onclick="adjustCounter('emailgfx',-1)">‚àí</button>
          <div class="counter-value" id="cv_emailgfx">0</div>
          <button class="counter-btn" onclick="adjustCounter('emailgfx',1)">+</button>
        </div>
        <div class="counter-row-price zero" id="cp_emailgfx">0‚Ç¨</div>
      </div>

      <div class="dcc-total-row">
        <div class="dcc-total-label" data-i18n="dg_total">Total Dise√±o Mensual</div>
        <div class="dcc-total-price" id="dcc_total">0‚Ç¨</div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!-- 05 ‚Äî COMMUNITY MANAGEMENT -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="pos-section" data-pos="5">
    <div class="pos-header">
      <div class="pos-dot" style="color:var(--c6);background:var(--c6);"></div>
      <div>
        <div class="pos-number" data-i18n="pos5num">05 ‚Äî Community Management</div>
        <div class="pos-name" data-i18n="pos5name">Respuestas, DMs y FAQs en cada canal</div>
      </div>
      <div class="pos-desc" data-i18n="pos5desc">Selecciona los canales ‚Äî cada uno es independiente</div>
    </div>

    <!-- Platform selector -->
    <div class="sub-section-label" data-i18n="platformLabel">Selecciona los canales a gestionar:</div>
    <div class="platform-grid">
      <div class="platform-card" style="--p-color:#e1306c;--p-rgb:225,48,108;" data-platform="instagram" data-price="180" onclick="togglePlatform(this)">
        <input type="checkbox" class="platform-check" onclick="event.stopPropagation()">
        <div class="platform-icon">üì∏</div>
        <div class="platform-name">Instagram</div>
        <div class="platform-price">180‚Ç¨</div>
        <div class="platform-price-sub">/ mes</div>
      </div>
      <div class="platform-card" style="--p-color:#1877f2;--p-rgb:24,119,242;" data-platform="facebook" data-price="150" onclick="togglePlatform(this)">
        <input type="checkbox" class="platform-check" onclick="event.stopPropagation()">
        <div class="platform-icon">üîµ</div>
        <div class="platform-name">Facebook</div>
        <div class="platform-price">150‚Ç¨</div>
        <div class="platform-price-sub">/ mes</div>
      </div>
      <div class="platform-card" style="--p-color:#ff0050;--p-rgb:255,0,80;" data-platform="tiktok" data-price="200" onclick="togglePlatform(this)">
        <input type="checkbox" class="platform-check" onclick="event.stopPropagation()">
        <div class="platform-icon">üéµ</div>
        <div class="platform-name">TikTok</div>
        <div class="platform-price">200‚Ç¨</div>
        <div class="platform-price-sub">/ mes</div>
      </div>
      <div class="platform-card" style="--p-color:#7b61ff;--p-rgb:123,97,255;" data-platform="email_cm" data-price="130" onclick="togglePlatform(this)">
        <input type="checkbox" class="platform-check" onclick="event.stopPropagation()">
        <div class="platform-icon">‚úâÔ∏è</div>
        <div class="platform-name">Email</div>
        <div class="platform-price">130‚Ç¨</div>
        <div class="platform-price-sub">/ mes</div>
      </div>
      <div class="platform-card" style="--p-color:#25d366;--p-rgb:37,211,102;" data-platform="whatsapp_cm" data-price="160" onclick="togglePlatform(this)">
        <input type="checkbox" class="platform-check" onclick="event.stopPropagation()">
        <div class="platform-icon">üí¨</div>
        <div class="platform-name">WhatsApp</div>
        <div class="platform-price">160‚Ç¨</div>
        <div class="platform-price-sub">/ mes</div>
      </div>
    </div>

    <!-- What's included in CM -->
    <div style="margin:12px 0;padding:14px 18px;background:rgba(255,45,120,.04);border:1px solid rgba(255,45,120,.12);border-radius:8px;font-size:11px;color:var(--text-dim);line-height:1.7;">
      <span style="color:#ff2d78;font-weight:700;">Cada canal incluye:</span>
      &nbsp;Respuestas a comentarios ¬∑ Gesti√≥n de DMs ¬∑ Moderaci√≥n de mensajes ¬∑ Identificaci√≥n de leads ¬∑ Protocolo de voz de marca.
      &nbsp;|&nbsp; <span style="color:#ff2d78;font-weight:700;">Pack completo (5 canales):</span> <strong style="color:#ff2d78;">10% de descuento autom√°tico</strong> sobre el total de Community Management.
    </div>
    <div id="cmBundleDiscountRow" style="display:none;margin-top:6px;padding:9px 16px;background:rgba(255,45,120,.1);border:1px solid rgba(255,45,120,.35);border-radius:8px;font-size:11px;color:#ff2d78;font-weight:700;text-align:center;">
      üéâ Pack completo activo ‚Äî 10% de descuento aplicado sobre Community Management
    </div>

    <!-- FAQs card -->
    <div style="margin-top:16px;" class="service-grid">
      <div class="card" style="--accent:var(--c6);--accent-rgb:255,45,120;" data-pos="5" data-svc="cm_faqs" data-base-price="150" onclick="toggleCard(this)">
        <div class="card-top"><span class="card-title">Base de FAQs Profesional</span><input type="checkbox" class="card-check" onclick="event.stopPropagation()"></div>
        <p class="card-desc">Creaci√≥n y mantenimiento de una base de preguntas frecuentes personalizada para tu negocio. Respuestas pre-aprobadas con protocolo de tono de marca y gu√≠a de escalado para situaciones complejas.</p>
        <div class="card-includes">
          <div class="card-includes-title">Incluye:</div>
          <ul class="card-includes-list">
            <li>50+ FAQs documentadas y actualizadas</li>
            <li>Protocolo de escalado de incidencias</li>
            <li>Revisi√≥n y actualizaci√≥n mensual</li>
          </ul>
        </div>
        <div class="card-footer"><div><span class="card-price">150‚Ç¨</span><span class="card-unit">/ mes</span></div><span class="card-badge">Mensual</span></div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!-- 06 ‚Äî DIRECCI√ìN CREATIVA -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="pos-section" data-pos="6">
    <div class="pos-header">
      <div class="pos-dot" style="color:var(--c5);background:var(--c5);"></div>
      <div>
        <div class="pos-number" data-i18n="pos6num">06 ‚Äî Direcci√≥n Creativa & Web</div>
        <div class="pos-name" data-i18n="pos6name">Estrategia visual, website y photoshoots</div>
      </div>
      <div class="pos-desc" data-i18n="pos6desc">An√°lisis, actualizaciones y direcci√≥n art√≠stica de alto nivel</div>
    </div>
    <div class="service-grid">

      <!-- Website -->
      <div class="card" style="--accent:var(--c5);--accent-rgb:255,204,0;" data-pos="6" data-svc="creative_web" data-base-price="380" onclick="toggleCard(this)">
        <div class="card-top"><span class="card-title">Website ‚Äî Ajustes & Updates</span><input type="checkbox" class="card-check" onclick="event.stopPropagation()"></div>
        <p class="card-desc">Mantenimiento activo y mejoras continuas de tu web: actualizaciones de contenido, ajustes de dise√±o, optimizaci√≥n de velocidad, mejoras de conversi√≥n y revisiones t√©cnicas mensuales para que siempre est√© al nivel.</p>
        <div class="card-includes">
          <div class="card-includes-title">Incluye:</div>
          <ul class="card-includes-list">
            <li>Actualizaciones de contenido y textos</li>
            <li>Ajustes de dise√±o y UX</li>
            <li>Optimizaci√≥n de rendimiento y SEO t√©cnico</li>
            <li>An√°lisis de conversi√≥n mensual</li>
          </ul>
        </div>
        <div class="card-footer"><div><span class="card-price">380‚Ç¨</span><span class="card-unit">/ mes</span></div><span class="card-badge">Mensual</span></div>
      </div>

      <!-- Photoshoots -->
      <div class="card" style="--accent:var(--c5);--accent-rgb:255,204,0;" data-pos="6" data-svc="creative_photo" data-base-price="450" onclick="toggleCard(this)">
        <div class="card-top"><span class="card-title">Direcci√≥n Creativa ‚Äî Photoshoots</span><input type="checkbox" class="card-check" onclick="event.stopPropagation()"></div>
        <p class="card-desc">Direcci√≥n art√≠stica completa de tus sesiones fotogr√°ficas: concepto visual, moodboard, selecci√≥n de localizaciones, coordinaci√≥n con fot√≥grafo y direcci√≥n en set. Fotos que comunican exactamente lo que tu marca representa.</p>
        <div class="card-includes">
          <div class="card-includes-title">Incluye:</div>
          <ul class="card-includes-list">
            <li>Concepto visual y moodboard</li>
            <li>Coordinaci√≥n con fot√≥grafo</li>
            <li>Direcci√≥n art√≠stica en set</li>
            <li>Selecci√≥n y briefing de post-producci√≥n</li>
          </ul>
        </div>
        <div class="card-footer"><div><span class="card-price">450‚Ç¨</span><span class="card-unit">/ mes</span></div><span class="card-badge">Mensual</span></div>
      </div>

      <!-- An√°lisis -->
      <div class="card" style="--accent:var(--c5);--accent-rgb:255,204,0;" data-pos="6" data-svc="analytics" data-base-price="280" onclick="toggleCard(this)">
        <div class="card-top"><span class="card-title">An√°lisis & Reporting</span><input type="checkbox" class="card-check" onclick="event.stopPropagation()"></div>
        <p class="card-desc">Reporte mensual completo de todas las m√©tricas de tu negocio digital: redes, web, email y conversiones. Identificaci√≥n de tendencias, puntos de fuga y recomendaciones de mejora basadas en datos reales.</p>
        <div class="card-includes">
          <div class="card-includes-title">Incluye:</div>
          <ul class="card-includes-list">
            <li>Dashboard mensual de m√©tricas clave</li>
            <li>An√°lisis de redes + web + email</li>
            <li>Recomendaciones accionables de mejora</li>
          </ul>
        </div>
        <div class="card-footer"><div><span class="card-price">280‚Ç¨</span><span class="card-unit">/ mes</span></div><span class="card-badge">Mensual</span></div>
      </div>

    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!-- 07 ‚Äî GOOGLE MY BUSINESS -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="pos-section" data-pos="7">
    <div class="pos-header">
      <div class="pos-dot" style="color:#4285f4;background:#4285f4;"></div>
      <div>
        <div class="pos-number">07 ‚Äî Google My Business</div>
        <div class="pos-name">Presencia activa en Google Search & Maps</div>
      </div>
      <div class="pos-desc">Exclusivamente Google ‚Äî no incluye otras redes sociales</div>
    </div>
    <div class="service-grid">
      <div class="card" style="--accent:#4285f4;--accent-rgb:66,133,244;" data-pos="7" data-svc="gmb" data-base-price="150" onclick="toggleCard(this)">
        <div class="card-top"><span class="card-title">Google My Business ‚Äî Mantenimiento</span><input type="checkbox" class="card-check" onclick="event.stopPropagation()"></div>
        <div class="covers-row">
          <span class="cover-badge" style="color:#4285f4;border-color:rgba(66,133,244,.3);background:rgba(66,133,244,.08);">üîç Google Search</span>
          <span class="cover-badge" style="color:#4285f4;border-color:rgba(66,133,244,.3);background:rgba(66,133,244,.08);">üó∫Ô∏è Google Maps</span>
        </div>
        <p class="card-desc">Mantenimiento activo de tu perfil en Google: publicaciones semanales, respuesta a rese√±as (positivas y negativas), actualizaci√≥n de informaci√≥n, fotos y gesti√≥n de la reputaci√≥n en b√∫squeda local.</p>
        <div class="card-includes">
          <div class="card-includes-title">Incluye:</div>
          <ul class="card-includes-list">
            <li>4 publicaciones semanales en GMB</li>
            <li>Respuesta a rese√±as y preguntas</li>
            <li>Actualizaci√≥n de datos, horarios e im√°genes</li>
            <li>Monitoreo de posicionamiento local</li>
          </ul>
        </div>
        <div class="card-footer"><div><span class="card-price">150‚Ç¨</span><span class="card-unit">/ mes</span></div><span class="card-badge">Semanal</span></div>
      </div>
    </div>
  </div>

  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <!-- 08 ‚Äî REPOSTING & RESHARING -->
  <!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
  <div class="pos-section" data-pos="8">
    <div class="pos-header">
      <div class="pos-dot" style="color:var(--c3);background:var(--c3);"></div>
      <div>
        <div class="pos-number">08 ‚Äî Reposting & Resharing</div>
        <div class="pos-name">Amplificaci√≥n de contenido en canales espec√≠ficos</div>
      </div>
      <div class="pos-desc">TikTok y Facebook como canales dedicados ‚Äî no se mezclan con otros servicios</div>
    </div>
    <div class="service-grid">

      <!-- TikTok Resharing -->
      <div class="card" style="--accent:#ff0050;--accent-rgb:255,0,80;" data-pos="8" data-svc="repost_tiktok" data-base-price="180" onclick="toggleCard(this)">
        <div class="card-top"><span class="card-title">TikTok Resharing</span><input type="checkbox" class="card-check" onclick="event.stopPropagation()"></div>
        <div class="covers-row">
          <span class="cover-badge" style="color:#ff0050;border-color:rgba(255,0,80,.3);background:rgba(255,0,80,.08);">üéµ TikTok exclusivo</span>
        </div>
        <p class="card-desc">Redistribuci√≥n estrat√©gica de tu contenido en TikTok: adaptaci√≥n de piezas existentes al formato TikTok, optimizaci√≥n de descripciones, hashtags y calendario de publicaci√≥n para maximizar el alcance org√°nico en esta plataforma.</p>
        <div class="card-includes">
          <div class="card-includes-title">Incluye:</div>
          <ul class="card-includes-list">
            <li>Adaptaci√≥n al formato y tendencias TikTok</li>
            <li>Optimizaci√≥n de hashtags y descripciones</li>
            <li>Calendario de publicaci√≥n estrat√©gico</li>
            <li>An√°lisis de rendimiento mensual</li>
          </ul>
        </div>
        <div class="card-footer"><div><span class="card-price">180‚Ç¨</span><span class="card-unit">/ mes</span></div><span class="card-badge" style="background:#ff0050;">TikTok</span></div>
      </div>

      <!-- Facebook Resharing -->
      <div class="card" style="--accent:#1877f2;--accent-rgb:24,119,242;" data-pos="8" data-svc="repost_facebook" data-base-price="160" onclick="toggleCard(this)">
        <div class="card-top"><span class="card-title">Facebook Resharing</span><input type="checkbox" class="card-check" onclick="event.stopPropagation()"></div>
        <div class="covers-row">
          <span class="cover-badge" style="color:#1877f2;border-color:rgba(24,119,242,.3);background:rgba(24,119,242,.08);">üîµ Facebook exclusivo</span>
        </div>
        <p class="card-desc">Redistribuci√≥n estrat√©gica de tu contenido en Facebook: adaptaci√≥n al feed y stories de Facebook, optimizaci√≥n para el algoritmo de Meta y gesti√≥n de publicaciones en tu p√°gina de negocio.</p>
        <div class="card-includes">
          <div class="card-includes-title">Incluye:</div>
          <ul class="card-includes-list">
            <li>Adaptaci√≥n al formato Facebook</li>
            <li>Gesti√≥n de p√°gina de negocio</li>
            <li>Publicaci√≥n en feed, reels y stories FB</li>
          </ul>
        </div>
        <div class="card-footer"><div><span class="card-price">160‚Ç¨</span><span class="card-unit">/ mes</span></div><span class="card-badge" style="background:#1877f2;">Facebook</span></div>
      </div>

    </div>
  </div>

  <div class="divider"></div>

  <!-- BREAKDOWN -->
  <div class="breakdown">
    <div class="breakdown-header">
      <h2 data-i18n="breakdownTitle">Resumen del Proyecto</h2>
      <p data-i18n="breakdownSub">Tu inversi√≥n mensual exacta en marketing y comunicaci√≥n</p>
    </div>
    <div class="breakdown-card">
      <div class="breakdown-list" id="breakdownList">
        <p class="breakdown-empty" id="breakdownEmpty">Selecciona los servicios que necesitas para construir tu propuesta personalizada.</p>
      </div>
      <div class="breakdown-totals">
        <div class="bt-row"><span class="bt-label">Subtotal</span><span class="bt-val" id="subtotal" data-raw="0">0,00‚Ç¨</span></div>
        <div class="bt-row discount" id="discountRow" style="display:none;"><span class="bt-label">Descuento aplicado</span><span class="bt-val" id="discountAmount" data-raw="0">0,00‚Ç¨</span></div>
        <div class="bt-row"><span class="bt-label">IVA (21%)</span><span class="bt-val" id="vatAmount" data-raw="0">0,00‚Ç¨</span></div>
        <div class="bt-sep"></div>
        <div class="bt-row final"><span class="bt-label">Inversi√≥n Total Mensual</span><span class="bt-val" id="finalTotal" data-raw="0">0,00‚Ç¨</span></div>
      </div>
    </div>
    <div class="actions">
      <button class="btn btn-primary" onclick="generatePDF()">Descargar Presupuesto PDF</button>
      <button class="btn btn-outline" onclick="sendByEmail()">Enviar por Email</button>
      <button class="btn btn-reset" onclick="resetAll()">Limpiar Selecci√≥n</button>
    </div>
  </div>

  <div class="footer-line">
    <p><strong>HYBRYD</strong> &nbsp;¬∑&nbsp; <span>Tu equipo de marketing completo sin contratar a nadie.</span></p>
  </div>

</div>
</section>

<!-- STICKY PILL -->
<div class="summary-sticky" id="summarySticky" style="display:none;">
  <div class="container">
    <div class="summary-pill">
      <div class="summary-counts" id="summaryCounts"></div>
      <div class="summary-sep"></div>
      <div class="summary-total-wrap">
        <span class="summary-total-label">Inversi√≥n Mensual</span>
        <span class="summary-total-num" id="pillTotal">0,00‚Ç¨</span>
      </div>
    </div>
  </div>
</div>

<div class="toast" id="toast"></div>

<script>
// ‚îÄ‚îÄ‚îÄ CONFIG ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const VAT = 0.21;
const POS_COLORS = {
  1:'#00ff41', 2:'#7b61ff', 3:'#a78bfa', 4:'#00cfff',
  5:'#ff2d78', 6:'#ffcc00', 7:'#4285f4', 8:'#00cfff'
};
const POS_NAMES = {
  1:'Mensual', 2:'Email/WA', 3:'Asistente', 4:'Dise√±o',
  5:'Community', 6:'Creativo', 7:'Google', 8:'Reposting'
};

// ‚îÄ‚îÄ‚îÄ STATE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
const selected = new Map();   // card el ‚Üí {name, price, pos}
const platforms = new Map();  // platformId ‚Üí price

// Counter config: key ‚Üí {val, unitPrice, discountThreshold, discountRate}
const COUNTERS = {
  stories:  { val:0, unitPrice:14, threshold:30, rate:.10 },
  feedposts:{ val:0, unitPrice:38, threshold:null, rate:0 },
  carousels:{ val:0, unitPrice:55, threshold:6,  rate:.12 },
  reels:    { val:0, unitPrice:22, threshold:null, rate:0 },
  banners:  { val:0, unitPrice:40, threshold:null, rate:0 },
  emailgfx: { val:0, unitPrice:28, threshold:null, rate:0 }
};

// Counter display names for breakdown
const COUNTER_NAMES = {
  stories:'Historias', feedposts:'Posts de Feed', carousels:'Carruseles',
  reels:'Portadas Reels', banners:'Banners', emailgfx:'Gr√°ficos Email'
};

// ‚îÄ‚îÄ‚îÄ CARD TOGGLE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function toggleCard(card) {
  const cb = card.querySelector('.card-check');
  const on = !cb.checked;
  cb.checked = on;
  card.classList.toggle('selected', on);
  const pos = parseInt(card.dataset.pos, 10);
  const price = parseInt(card.dataset.basePrice || card.dataset.price || 0, 10);
  const title = card.querySelector('.card-title').textContent.trim();
  if (on) selected.set(card, { name: title, price, pos });
  else selected.delete(card);
  render();
}

// ‚îÄ‚îÄ‚îÄ PLATFORM TOGGLE ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function togglePlatform(card) {
  const cb = card.querySelector('.platform-check');
  const on = !cb.checked;
  cb.checked = on;
  card.classList.toggle('selected', on);
  const pid = card.dataset.platform;
  const price = parseInt(card.dataset.price, 10);
  if (on) platforms.set(pid, price);
  else platforms.delete(pid);
  const bundleRow = document.getElementById('cmBundleDiscountRow');
  bundleRow.style.display = platforms.size === 5 ? 'block' : 'none';
  render();
}

// ‚îÄ‚îÄ‚îÄ DESIGN COUNTER ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function adjustCounter(key, delta) {
  const cfg = COUNTERS[key];
  cfg.val = Math.max(0, cfg.val + delta);
  const v = cfg.val;

  // Animate number
  const valEl = document.getElementById('cv_' + key);
  valEl.textContent = v;
  valEl.classList.remove('bump'); void valEl.offsetWidth; valEl.classList.add('bump');

  // Compute price with discount
  const base = v * cfg.unitPrice;
  const disc = (cfg.threshold && v >= cfg.threshold) ? base * cfg.rate : 0;
  const final = base - disc;

  // Update price display
  const priceEl = document.getElementById('cp_' + key);
  priceEl.textContent = v > 0 ? final + '‚Ç¨' : '0‚Ç¨';
  priceEl.classList.toggle('zero', v === 0);

  // Update row active
  document.getElementById('cr_' + key).classList.toggle('active', v > 0);

  // Update discount tag
  const dtEl = document.getElementById('dt_' + key);
  if (dtEl) {
    if (cfg.threshold) {
      if (v >= cfg.threshold) {
        dtEl.textContent = '‚úì ' + (cfg.rate * 100) + '% aplicado';
        dtEl.className = 'active-discount-tag';
      } else {
        const needed = cfg.threshold - v;
        dtEl.textContent = '‚àí' + (cfg.rate * 100) + '% a partir de ' + cfg.threshold + ' (+' + needed + ')';
        dtEl.className = 'discount-tag';
      }
    }
  }

  // Update total bar
  const total = getDesignTotal();
  document.getElementById('dcc_total').textContent = total + '‚Ç¨';
  document.getElementById('designCounterCard').classList.toggle('has-selection', total > 0);

  render();
}

function getDesignTotal() {
  return Object.values(COUNTERS).reduce((sum, cfg) => {
    const base = cfg.val * cfg.unitPrice;
    const disc = (cfg.threshold && cfg.val >= cfg.threshold) ? base * cfg.rate : 0;
    return sum + (base - disc);
  }, 0);
}

function getDesignDiscount() {
  return Object.values(COUNTERS).reduce((sum, cfg) => {
    const base = cfg.val * cfg.unitPrice;
    return sum + ((cfg.threshold && cfg.val >= cfg.threshold) ? base * cfg.rate : 0);
  }, 0);
}

// ‚îÄ‚îÄ‚îÄ RENDER BREAKDOWN ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function render() {
  const list = document.getElementById('breakdownList');
  const empty = document.getElementById('breakdownEmpty');
  list.querySelectorAll('.b-item').forEach(e => e.remove());

  const items = []; // {name, price, color}

  // Regular service cards
  selected.forEach(({ name, price, pos }) => {
    if (price > 0) items.push({ name, price, color: POS_COLORS[pos] || '#00ff41' });
  });

  // Platforms (CM) ‚Äî list each
  let cmRaw = 0;
  const CM_PLAT_NAMES = {instagram:'CM Instagram', facebook:'CM Facebook', tiktok:'CM TikTok', email_cm:'CM Email', whatsapp_cm:'CM WhatsApp'};
  const CM_COLORS = {instagram:'#e1306c', facebook:'#1877f2', tiktok:'#ff0050', email_cm:'#7b61ff', whatsapp_cm:'#25d366'};
  platforms.forEach((price, pid) => {
    cmRaw += price;
    items.push({ name: CM_PLAT_NAMES[pid] || pid, price, color: CM_COLORS[pid] || '#ff2d78' });
  });
  const cmDiscount = platforms.size === 5 ? cmRaw * 0.10 : 0;

  // Design counters
  Object.entries(COUNTERS).forEach(([k, cfg]) => {
    if (cfg.val > 0) {
      const base = cfg.val * cfg.unitPrice;
      const disc = (cfg.threshold && cfg.val >= cfg.threshold) ? base * cfg.rate : 0;
      const final = base - disc;
      items.push({ name: COUNTER_NAMES[k] + ' √ó' + cfg.val, price: final, color: '#00cfff' });
    }
  });

  // Render list
  if (items.length === 0) {
    empty.style.display = 'block';
  } else {
    empty.style.display = 'none';
    items.forEach(({ name, price, color }) => {
      const row = document.createElement('div');
      row.className = 'b-item';
      row.innerHTML = `<div class="b-item-left"><div class="b-dot" style="background:${color};box-shadow:0 0 6px ${color};"></div><span class="b-name">${name}</span></div><span class="b-price">${fmt(price)}</span>`;
      list.appendChild(row);
    });
  }

  // Totals
  let sub = 0;
  selected.forEach(({ price }) => { sub += price; });
  sub += cmRaw;
  sub += getDesignTotal();

  const designDisc = getDesignDiscount();
  const totalDisc = cmDiscount + designDisc;
  const afterDiscount = sub - totalDisc;
  const vat = afterDiscount * VAT;
  const total = afterDiscount + vat;

  anim('subtotal', sub);
  const discRow = document.getElementById('discountRow');
  if (totalDisc > 0) {
    discRow.style.display = 'flex';
    anim('discountAmount', -totalDisc);
  } else {
    discRow.style.display = 'none';
  }
  anim('vatAmount', vat);
  anim('finalTotal', total);

  // Sticky pill
  const sticky = document.getElementById('summarySticky');
  if (items.length === 0) {
    sticky.style.display = 'none';
  } else {
    sticky.style.display = 'block';
    // Count by pos
    const counts = {};
    selected.forEach(({ pos }) => { counts[pos] = (counts[pos] || 0) + 1; });
    if (platforms.size > 0) counts[5] = (counts[5] || 0) + platforms.size;
    if (getDesignTotal() > 0) counts[4] = (counts[4] || 0);

    const ce = document.getElementById('summaryCounts');
    ce.innerHTML = '';
    Object.entries(counts).sort((a,b) => a[0]-b[0]).forEach(([pos, cnt]) => {
      if (!cnt) return;
      const d = document.createElement('div');
      d.className = 'summary-count-item';
      d.innerHTML = `<span class="summary-count-num" style="color:${POS_COLORS[pos]};text-shadow:0 0 8px ${POS_COLORS[pos]};">${cnt}</span><span class="summary-count-label">${POS_NAMES[pos]||''}</span>`;
      ce.appendChild(d);
    });
    // Add design counter if active
    const dt = getDesignTotal();
    if (dt > 0) {
      const d = document.createElement('div');
      d.className = 'summary-count-item';
      d.innerHTML = `<span class="summary-count-num" style="color:#00cfff;text-shadow:0 0 8px #00cfff;">${dt}‚Ç¨</span><span class="summary-count-label">Dise√±o</span>`;
      ce.appendChild(d);
    }
    document.getElementById('pillTotal').textContent = fmt(total);
  }
}

// ‚îÄ‚îÄ‚îÄ RESET ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function resetAll() {
  document.querySelectorAll('.card.selected').forEach(c => {
    c.classList.remove('selected');
    const cb = c.querySelector('.card-check');
    if (cb) cb.checked = false;
  });
  document.querySelectorAll('.platform-card.selected').forEach(c => {
    c.classList.remove('selected');
    const cb = c.querySelector('.platform-check');
    if (cb) cb.checked = false;
  });
  selected.clear();
  platforms.clear();
  document.getElementById('cmBundleDiscountRow').style.display = 'none';

  Object.entries(COUNTERS).forEach(([k, cfg]) => {
    cfg.val = 0;
    const valEl = document.getElementById('cv_' + k);
    if (valEl) valEl.textContent = '0';
    const priceEl = document.getElementById('cp_' + k);
    if (priceEl) { priceEl.textContent = '0‚Ç¨'; priceEl.classList.add('zero'); }
    const rowEl = document.getElementById('cr_' + k);
    if (rowEl) rowEl.classList.remove('active');
    const dtEl = document.getElementById('dt_' + k);
    if (dtEl && cfg.threshold) {
      dtEl.textContent = '‚àí' + (cfg.rate * 100) + '% a partir de ' + cfg.threshold;
      dtEl.className = 'discount-tag';
    }
  });
  document.getElementById('dcc_total').textContent = '0‚Ç¨';
  document.getElementById('designCounterCard').classList.remove('has-selection');

  render();
  showToast('Selecci√≥n limpiada.');
}

// ‚îÄ‚îÄ‚îÄ UTILS ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function fmt(n) {
  return new Intl.NumberFormat('de-DE', { minimumFractionDigits:2, maximumFractionDigits:2 }).format(Math.abs(n)) + '‚Ç¨';
}

function anim(id, target) {
  const el = document.getElementById(id);
  el.classList.remove('counting'); void el.offsetWidth; el.classList.add('counting');
  const dur = 350, start = Date.now(), from = parseFloat(el.dataset.raw || 0);
  el.dataset.raw = target;
  (function step() {
    const t2 = Math.min((Date.now()-start)/dur, 1), e = 1-Math.pow(1-t2, 3);
    el.textContent = fmt(from + (target-from)*e);
    if (t2 < 1) requestAnimationFrame(step); else el.textContent = fmt(target);
  })();
}

function showToast(msg) {
  const t = document.getElementById('toast');
  t.textContent = msg; t.classList.add('show');
  setTimeout(() => t.classList.remove('show'), 3400);
}

// ‚îÄ‚îÄ‚îÄ PDF ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function generatePDF() {
  const items = [];
  selected.forEach(({ name, price, pos }) => { if (price > 0) items.push({ name, price, pos }); });
  const CM_PLAT_NAMES = {instagram:'CM Instagram',facebook:'CM Facebook',tiktok:'CM TikTok',email_cm:'CM Email',whatsapp_cm:'CM WhatsApp'};
  let cmRaw = 0;
  platforms.forEach((price, pid) => { cmRaw += price; items.push({ name: CM_PLAT_NAMES[pid]||pid, price, pos:5 }); });
  const cmDiscount = platforms.size === 5 ? cmRaw * 0.10 : 0;
  Object.entries(COUNTERS).forEach(([k, cfg]) => {
    if (cfg.val > 0) {
      const base = cfg.val * cfg.unitPrice;
      const disc = (cfg.threshold && cfg.val >= cfg.threshold) ? base * cfg.rate : 0;
      items.push({ name: COUNTER_NAMES[k] + ' √ó' + cfg.val, price: base-disc, pos: 4 });
    }
  });
  if (items.length === 0) { showToast('Selecciona al menos un servicio.'); return; }

  let sub = items.reduce((s, i) => s + i.price, 0);
  const totalDisc = cmDiscount + getDesignDiscount();
  const afterDisc = sub - totalDisc;
  const vat = afterDisc * VAT, total = afterDisc + vat;
  const date = new Date().toLocaleDateString('es-ES', { year:'numeric', month:'long', day:'numeric' });

  const byPos = {};
  items.forEach(({ name, price, pos }) => { if (!byPos[pos]) byPos[pos] = []; byPos[pos].push({ name, price }); });
  let rows = '';
  Object.entries(byPos).forEach(([pos, it]) => {
    rows += `<tr><td colspan="2" style="padding:12px 0 5px;font-size:9px;letter-spacing:.2em;text-transform:uppercase;color:${POS_COLORS[pos]||'#00ff41'};border-bottom:1px solid ${POS_COLORS[pos]||'#00ff41'}44;">${POS_NAMES[pos]||'Servicios'}</td></tr>`;
    it.forEach(({ name, price }) => { rows += `<tr><td style="padding:7px 0;border-bottom:1px solid #142018;color:#c8d6cc;font-size:12px;">${name}</td><td style="padding:7px 0;border-bottom:1px solid #142018;color:#fff;font-weight:600;text-align:right;font-size:12px;">${fmt(price)}</td></tr>`; });
  });

  const html = `<!DOCTYPE html><html><head><meta charset="UTF-8"><title>HYBRYD</title><style>body{font-family:'Segoe UI',sans-serif;background:#050a07;color:#c8d6cc;padding:60px 44px;max-width:700px;margin:0 auto}h1{color:#00ff41;font-size:30px;font-weight:800;margin:0 0 4px}.d{color:#4e6657;font-size:9px;text-transform:uppercase;letter-spacing:.2em;display:block;margin-bottom:44px}table{width:100%;border-collapse:collapse}.tr td{padding:11px 0;border-top:1px solid rgba(0,255,65,.12);font-size:13px}.disc td{color:#ff6b35}.fin td{font-size:24px;font-weight:800;color:#00ff41;padding:14px 0;border-top:2px solid #00ff41}</style></head><body><h1>HYBRYD</h1><span class="d">${date}</span><table><tbody>${rows}<tr class="tr"><td>Subtotal</td><td style="text-align:right">${fmt(sub)}</td></tr>${totalDisc>0?`<tr class="tr disc"><td>Descuento aplicado</td><td style="text-align:right">${fmt(-totalDisc)}</td></tr>`:''}<tr class="tr"><td>IVA (21%)</td><td style="text-align:right">${fmt(vat)}</td></tr><tr class="fin"><td>Inversi√≥n Total Mensual</td><td style="text-align:right">${fmt(total)}</td></tr></tbody></table></body></html>`;

  const win = window.open('', '_blank');
  if (win) { win.document.write(html); win.document.close(); win.onload = () => win.print(); }
  showToast('Presupuesto listo ‚Äî Imprimir > Guardar como PDF.');
}

// ‚îÄ‚îÄ‚îÄ EMAIL ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
function sendByEmail() {
  const items = [];
  selected.forEach(({ name, price, pos }) => { if (price > 0) items.push({ name, price, pos }); });
  const CM_PLAT_NAMES = {instagram:'CM Instagram',facebook:'CM Facebook',tiktok:'CM TikTok',email_cm:'CM Email',whatsapp_cm:'CM WhatsApp'};
  let cmRaw = 0;
  platforms.forEach((price, pid) => { cmRaw += price; items.push({ name: CM_PLAT_NAMES[pid]||pid, price, pos:5 }); });
  const cmDiscount = platforms.size === 5 ? cmRaw * 0.10 : 0;
  Object.entries(COUNTERS).forEach(([k, cfg]) => {
    if (cfg.val > 0) {
      const base = cfg.val * cfg.unitPrice;
      const disc = (cfg.threshold && cfg.val >= cfg.threshold) ? base * cfg.rate : 0;
      items.push({ name: COUNTER_NAMES[k] + ' √ó' + cfg.val, price: base-disc, pos: 4 });
    }
  });
  if (items.length === 0) { showToast('Selecciona al menos un servicio.'); return; }

  let sub = items.reduce((s, i) => s + i.price, 0);
  const totalDisc = cmDiscount + getDesignDiscount();
  const afterDisc = sub - totalDisc;
  const vat = afterDisc * VAT, total = afterDisc + vat;

  const byPos = {};
  items.forEach(({ name, price, pos }) => { if (!byPos[pos]) byPos[pos] = []; byPos[pos].push({ name, price }); });
  let body = 'HYBRYD%0A%0A';
  Object.entries(byPos).forEach(([pos, it]) => {
    body += (POS_NAMES[pos]||'Servicios').toUpperCase() + '%0A';
    it.forEach(({ name, price }) => { body += `\u2014 ${name}: ${fmt(price)}%0A`; });
    body += '%0A';
  });
  body += `Subtotal: ${fmt(sub)}%0A`;
  if (totalDisc > 0) body += `Descuento: ${fmt(-totalDisc)}%0A`;
  body += `IVA (21%): ${fmt(vat)}%0A` + `Inversi√≥n Total Mensual: ${fmt(total)}`;

  window.location.href = 'mailto:?subject=HYBRYD ‚Äî Presupuesto Mensual&body=' + body;
  showToast('Cliente de email abierto.');
}

// lang switcher stub (visual only since content is static ES)
function setLang(l) {
  document.querySelectorAll('.lang-btn').forEach(b => b.classList.toggle('active', b.textContent.trim().toLowerCase() === l));
}
</script>
</body>
</html>
