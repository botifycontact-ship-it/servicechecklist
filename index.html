<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>HYBRYD — Budget Builder by Position</title>
  <style>
    :root {
      --neon: #00ff41;
      --neon-dim: rgba(0,255,65,.1);
      --neon-glow: 0 0 8px #00ff41, 0 0 24px rgba(0,255,65,.4);
      --bg: #050a07;
      --surface: rgba(255,255,255,.03);
      --surface-2: rgba(255,255,255,.055);
      --border: rgba(0,255,65,.15);
      --border-hl: rgba(0,255,65,.5);
      --text: #c8d6cc;
      --text-dim: #4e6657;
      --white: #eaf0ec;
      --grid-color: rgba(0,255,65,.045);
      --r: 10px;
      --font: 'Inter','Segoe UI',system-ui,sans-serif;

      /* position accent colours */
      --c1: #00ff41; /* community */
      --c2: #7b61ff; /* design */
      --c3: #00cfff; /* database */
      --c4: #ff6b35; /* marketing */
      --c5: #ffcc00; /* customer */
    }
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    html { scroll-behavior: smooth; }
    body {
      font-family: var(--font);
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
      min-height: 100vh;
      background-image:
        linear-gradient(var(--grid-color) 1px, transparent 1px),
        linear-gradient(90deg, var(--grid-color) 1px, transparent 1px);
      background-size: 40px 40px;
    }
    ::-webkit-scrollbar { width: 4px; }
    ::-webkit-scrollbar-track { background: var(--bg); }
    ::-webkit-scrollbar-thumb { background: #1a3a22; border-radius: 4px; }

    /* ── LAYOUT ── */
    .block { padding: 80px 0 110px; }
    .container { max-width: 1240px; margin: 0 auto; padding: 0 28px; }

    /* ── HEADER ── */
    .section-header { text-align: center; margin-bottom: 72px; }
    .eyebrow { font-size: 9.5px; letter-spacing: .26em; text-transform: uppercase; color: var(--neon); margin-bottom: 20px; display: block; }
    .section-title { font-size: clamp(26px, 4vw, 44px); font-weight: 800; color: var(--white); letter-spacing: -.025em; line-height: 1.12; margin-bottom: 18px; }
    .section-title span { color: var(--neon); text-shadow: var(--neon-glow); }
    .section-subtitle { font-size: 14.5px; color: var(--text-dim); max-width: 540px; margin: 0 auto; line-height: 1.75; }

    /* ── BUDGET DIAL ── */
    .budget-dial-wrap {
      display: flex; justify-content: center; gap: 10px;
      flex-wrap: wrap; margin-bottom: 64px;
    }
    .dial-btn {
      padding: 9px 20px; border-radius: 30px; font-size: 11px;
      font-weight: 700; letter-spacing: .14em; text-transform: uppercase;
      cursor: pointer; border: 1.5px solid var(--border-hl);
      background: transparent; color: var(--text-dim);
      font-family: var(--font); transition: all .2s;
    }
    .dial-btn:hover { color: var(--neon); border-color: var(--neon); background: var(--neon-dim); }
    .dial-btn.active { color: var(--bg); background: var(--neon); border-color: var(--neon); box-shadow: 0 0 14px rgba(0,255,65,.4); }

    /* ── POSITION SECTION ── */
    .pos-section { margin-bottom: 60px; }
    .pos-header {
      display: flex; align-items: center; gap: 14px;
      margin-bottom: 22px; padding-bottom: 16px;
      border-bottom: 1px solid var(--border);
    }
    .pos-dot {
      width: 8px; height: 8px; border-radius: 50%; flex-shrink: 0;
      box-shadow: 0 0 10px currentColor;
    }
    .pos-number { font-size: 9px; letter-spacing: .22em; color: var(--text-dim); text-transform: uppercase; }
    .pos-name { font-size: 15px; font-weight: 700; color: var(--white); }
    .pos-desc { font-size: 12px; color: var(--text-dim); margin-left: auto; max-width: 360px; text-align: right; line-height: 1.5; }

    /* ── SERVICE GRID ── */
    .service-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 14px;
      align-items: start;
    }

    /* ── CARD ── */
    .card {
      background: var(--surface); border: 1px solid var(--border);
      border-radius: var(--r); padding: 20px 20px 18px;
      position: relative; cursor: pointer; overflow: hidden;
      transition: border-color .22s, box-shadow .22s, background .22s, transform .18s;
      display: flex; flex-direction: column; gap: 0;
    }
    .card::before {
      content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px;
      background: var(--accent, var(--neon)); opacity: 0;
      transition: opacity .22s;
    }
    .card:hover { transform: translateY(-2px); background: var(--surface-2); }
    .card:hover::before { opacity: 1; }
    .card.selected {
      border-color: var(--accent, var(--neon));
      background: rgba(var(--accent-rgb, 0,255,65), .07);
      box-shadow: 0 0 0 1px var(--accent, var(--neon)), 0 0 24px rgba(var(--accent-rgb, 0,255,65), .14);
    }
    .card.selected::before { opacity: 1; }
    .card.dimmed { opacity: .38; pointer-events: none; }

    .card-top { display: flex; justify-content: space-between; align-items: flex-start; gap: 10px; margin-bottom: 8px; }
    .card-title { font-size: 13px; font-weight: 600; color: var(--white); line-height: 1.4; flex: 1; }
    .card-check {
      flex-shrink: 0; width: 17px; height: 17px;
      appearance: none; -webkit-appearance: none;
      border: 1.5px solid var(--border-hl); border-radius: 3px;
      background: transparent; cursor: pointer; position: relative;
      transition: border-color .18s, box-shadow .18s; margin-top: 1px;
    }
    .card-check::after {
      content: ''; position: absolute; inset: 3px;
      background: var(--accent, var(--neon)); border-radius: 1px;
      opacity: 0; transform: scale(.3); transition: opacity .16s, transform .16s;
    }
    .card-check:checked { border-color: var(--accent, var(--neon)); box-shadow: 0 0 8px rgba(var(--accent-rgb,0,255,65), .5); }
    .card-check:checked::after { opacity: 1; transform: scale(1); }

    .card-desc { font-size: 12px; color: var(--text-dim); line-height: 1.65; margin-bottom: 14px; flex: 1; }
    .card-footer { display: flex; align-items: center; justify-content: space-between; margin-top: auto; }
    .card-price { font-size: 17px; font-weight: 700; color: var(--accent, var(--neon)); text-shadow: 0 0 12px rgba(var(--accent-rgb,0,255,65),.5); }
    .card-unit { font-size: 10px; color: var(--text-dim); margin-left: 3px; font-weight: 400; }
    .card-badge {
      font-size: 9px; letter-spacing: .1em; text-transform: uppercase;
      color: var(--bg); background: var(--accent, var(--neon));
      padding: 3px 7px; border-radius: 20px; font-weight: 700; opacity: .85;
    }

    /* ── DIVIDER ── */
    .divider { height: 1px; background: linear-gradient(90deg, transparent, var(--border), transparent); margin: 64px 0; }

    /* ── STICKY SUMMARY ── */
    .summary-sticky {
      position: sticky; bottom: 24px; z-index: 100;
      pointer-events: none;
    }
    .summary-pill {
      pointer-events: all;
      max-width: 700px; margin: 0 auto;
      background: rgba(5,10,7,.92);
      border: 1px solid var(--border-hl);
      border-radius: 14px;
      backdrop-filter: blur(18px);
      box-shadow: 0 0 40px rgba(0,255,65,.12), 0 8px 32px rgba(0,0,0,.6);
      padding: 20px 28px;
      display: flex; align-items: center; gap: 24px; flex-wrap: wrap;
    }
    .summary-counts {
      display: flex; gap: 20px; flex: 1; flex-wrap: wrap;
    }
    .summary-count-item { text-align: center; }
    .summary-count-num { font-size: 18px; font-weight: 800; color: var(--neon); text-shadow: var(--neon-glow); display: block; line-height: 1; }
    .summary-count-label { font-size: 9px; letter-spacing: .14em; text-transform: uppercase; color: var(--text-dim); display: block; margin-top: 4px; }
    .summary-sep { width: 1px; height: 40px; background: var(--border); flex-shrink: 0; }
    .summary-total-wrap { text-align: right; }
    .summary-total-label { font-size: 9px; letter-spacing: .18em; text-transform: uppercase; color: var(--text-dim); display: block; margin-bottom: 2px; }
    .summary-total-num { font-size: 26px; font-weight: 800; color: var(--neon); text-shadow: var(--neon-glow); line-height: 1; }
    .counting { animation: pulse .3s ease; }
    @keyframes pulse { 0% { opacity:.5; transform:scale(.96); } 60% { opacity:1; transform:scale(1.03); } 100% { opacity:1; transform:scale(1); } }

    /* ── FULL BREAKDOWN ── */
    .breakdown { max-width: 680px; margin: 0 auto; }
    .breakdown-header { text-align: center; margin-bottom: 32px; }
    .breakdown-header h2 { font-size: 11px; letter-spacing: .22em; text-transform: uppercase; color: var(--neon); margin-bottom: 8px; }
    .breakdown-header p { font-size: 13px; color: var(--text-dim); }
    .breakdown-card { background: var(--surface); border: 1px solid var(--border); border-radius: var(--r); overflow: hidden; }
    .breakdown-list { padding: 22px 26px 4px; min-height: 54px; }
    .breakdown-empty { font-size: 12px; color: var(--text-dim); font-style: italic; padding-bottom: 18px; }
    .b-item { display: flex; justify-content: space-between; align-items: center; padding: 9px 0; border-bottom: 1px solid var(--border); animation: fadeIn .2s ease; }
    .b-item:last-child { border-bottom: none; }
    @keyframes fadeIn { from { opacity:0; transform:translateY(-5px); } to { opacity:1; transform:translateY(0); } }
    .b-item-left { display: flex; align-items: center; gap: 9px; }
    .b-dot { width: 6px; height: 6px; border-radius: 50%; flex-shrink: 0; }
    .b-name { font-size: 12.5px; color: var(--text); }
    .b-price { font-size: 13px; font-weight: 600; color: var(--white); flex-shrink: 0; margin-left: 16px; }
    .breakdown-totals { border-top: 1px solid var(--border-hl); padding: 22px 26px; background: rgba(0,255,65,.02); }
    .bt-row { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
    .bt-row:last-child { margin-bottom: 0; }
    .bt-label { font-size: 11.5px; color: var(--text-dim); text-transform: uppercase; letter-spacing: .1em; }
    .bt-val { font-size: 14px; color: var(--text); font-weight: 500; }
    .bt-row.final .bt-label { font-size: 13px; font-weight: 700; color: var(--white); letter-spacing: .12em; }
    .bt-row.final .bt-val { font-size: 30px; font-weight: 800; color: var(--neon); text-shadow: var(--neon-glow); }
    .bt-sep { height: 1px; background: var(--border); margin: 14px 0; }

    /* ── ACTIONS ── */
    .actions { display: flex; gap: 12px; margin-top: 24px; flex-wrap: wrap; }
    .btn { flex: 1; min-width: 190px; padding: 14px 20px; border-radius: 8px; font-size: 11px; font-weight: 700; letter-spacing: .18em; text-transform: uppercase; cursor: pointer; transition: all .2s; border: none; font-family: var(--font); text-align: center; }
    .btn-primary { background: var(--neon); color: #050a07; box-shadow: 0 0 18px rgba(0,255,65,.3); }
    .btn-primary:hover { box-shadow: 0 0 32px rgba(0,255,65,.55); transform: translateY(-1px); }
    .btn-outline { background: transparent; color: var(--neon); border: 1.5px solid var(--border-hl); }
    .btn-outline:hover { border-color: var(--neon); background: var(--neon-dim); transform: translateY(-1px); }
    .btn-reset { background: transparent; color: var(--text-dim); border: 1.5px solid rgba(255,255,255,.08); }
    .btn-reset:hover { color: #ff4444; border-color: rgba(255,68,68,.4); background: rgba(255,68,68,.06); }

    /* ── FOOTER ── */
    .footer-line { text-align: center; margin-top: 80px; padding-top: 40px; border-top: 1px solid var(--border); }
    .footer-line p { font-size: 12px; letter-spacing: .24em; text-transform: uppercase; color: var(--text-dim); }
    .footer-line p strong { color: var(--neon); text-shadow: 0 0 14px rgba(0,255,65,.35); }

    /* ── TOAST ── */
    .toast { position: fixed; bottom: 110px; right: 28px; background: #050a07; border: 1px solid var(--neon); color: var(--neon); padding: 12px 20px; border-radius: 8px; font-size: 11.5px; letter-spacing: .08em; box-shadow: 0 0 20px rgba(0,255,65,.25); opacity: 0; transform: translateY(10px); transition: all .28s; z-index: 999; pointer-events: none; max-width: 320px; }
    .toast.show { opacity: 1; transform: translateY(0); }

    /* ── RESPONSIVE ── */
    @media (max-width: 700px) {
      .pos-desc { display: none; }
      .summary-pill { padding: 16px 18px; gap: 14px; }
      .summary-total-num { font-size: 20px; }
    }
  </style>
</head>
<body>

<section class="block">
  <div class="container">

    <!-- HEADER -->
    <div class="section-header">
      <span class="eyebrow">Service Configuration by Position</span>
      <h1 class="section-title"><span>HYBRYD</span> &mdash; Build Your<br>Custom Operations Budget</h1>
      <p class="section-subtitle">Cada casilla que marcas representa una tarea real que alguien ejecuta por ti todos los meses. Lee cada descripci&oacute;n, eval&uacute;a lo que necesitas y construye el presupuesto que refleja exactamente tu operaci&oacute;n.</p>
    </div>

    <!-- BUDGET DIAL -->
    <div class="budget-dial-wrap" id="dialWrap">
      <span style="font-size:10px;letter-spacing:.18em;text-transform:uppercase;color:var(--text-dim);align-self:center;margin-right:4px;">Referencia:</span>
      <button class="dial-btn" data-budget="1500" onclick="applyDial(1500,this)">~1.500&euro;</button>
      <button class="dial-btn" data-budget="2000" onclick="applyDial(2000,this)">~2.000&euro;</button>
      <button class="dial-btn" data-budget="2500" onclick="applyDial(2500,this)">~2.500&euro;</button>
      <button class="dial-btn" data-budget="3000" onclick="applyDial(3000,this)">~3.000&euro;</button>
      <button class="dial-btn" data-budget="4000" onclick="applyDial(4000,this)">~4.000&euro;</button>
      <button class="dial-btn" data-budget="6000" onclick="applyDial(6000,this)">Full Stack</button>
    </div>

    <!-- ══════════════════════════════════════════════ -->
    <!-- POSITION 01 — COMMUNITY MANAGEMENT            -->
    <!-- ══════════════════════════════════════════════ -->
    <div class="pos-section" data-pos="1">
      <div class="pos-header">
        <div class="pos-dot" style="color:var(--c1);background:var(--c1);"></div>
        <div>
          <div class="pos-number">Posici&oacute;n 01</div>
          <div class="pos-name">Community Management</div>
        </div>
        <div class="pos-desc">Todo lo que ocurre en tus redes despu&eacute;s de publicar: qui&eacute;n responde, c&oacute;mo se responde y qu&eacute; imagen proyectas en cada interacci&oacute;n diaria.</div>
      </div>
      <div class="service-grid">

        <div class="card" style="--accent:var(--c1);--accent-rgb:0,255,65;" data-price="350" data-name="Gesti&oacute;n de Contenido y Calendario" data-pos="1" onclick="toggleCard(this)">
          <div class="card-top">
            <span class="card-title">Gesti&oacute;n de Contenido y Calendario</span>
            <input type="checkbox" class="card-check" onclick="event.stopPropagation()">
          </div>
          <p class="card-desc">Cada mes se define qu&eacute; se publica, cu&aacute;ndo y con qu&eacute; objetivo. Se crea un calendario editorial estructurado por semanas con los temas, formatos y fechas clave marcadas. Si no existe este sistema, el contenido se publica de forma reactiva y sin coherencia estrat&eacute;gica &mdash; lo que hace que la cuenta parezca inconsistente y sin direcci&oacute;n clara.</p>
          <div class="card-footer">
            <div><span class="card-price">350&euro;</span><span class="card-unit">/ mes</span></div>
            <span class="card-badge">Base</span>
          </div>
        </div>

        <div class="card" style="--accent:var(--c1);--accent-rgb:0,255,65;" data-price="450" data-name="Gesti&oacute;n de DMs y Comentarios" data-pos="1" onclick="toggleCard(this)">
          <div class="card-top">
            <span class="card-title">Gesti&oacute;n de DMs y Comentarios</span>
            <input type="checkbox" class="card-check" onclick="event.stopPropagation()">
          </div>
          <p class="card-desc">Alguien responde por ti, todos los d&iacute;as. Los mensajes directos se gestionan con protocolo, los comentarios se moderan para eliminar ruido y los leads reales se identifican y separan para seguimiento. Incluye mantenimiento activo del tono de marca en cada interacci&oacute;n. Sin esto, tu comunidad percibe que no hay nadie detr&aacute;s de la cuenta &mdash; y los clientes potenciales se van en silencio.</p>
          <div class="card-footer">
            <div><span class="card-price">450&euro;</span><span class="card-unit">/ mes</span></div>
          </div>
        </div>

        <div class="card" style="--accent:var(--c1);--accent-rgb:0,255,65;" data-price="300" data-name="Monitoreo y Escucha Social" data-pos="1" onclick="toggleCard(this)">
          <div class="card-top">
            <span class="card-title">Monitoreo y Escucha Social</span>
            <input type="checkbox" class="card-check" onclick="event.stopPropagation()">
          </div>
          <p class="card-desc">Se monitorizan en tiempo real las menciones de tu marca, los movimientos de tu competencia directa y cualquier conversaci&oacute;n relevante en tu sector. Recibes alertas ante situaciones de riesgo reputacional y un reporte semanal que refleja c&oacute;mo est&aacute; siendo percibido tu contenido. Te permite reaccionar a tiempo en lugar de enterarte tarde de lo que se dice de ti.</p>
          <div class="card-footer">
            <div><span class="card-price">300&euro;</span><span class="card-unit">/ mes</span></div>
          </div>
        </div>

        <div class="card" style="--accent:var(--c1);--accent-rgb:0,255,65;" data-price="500" data-name="Community Management Avanzado (Full)" data-pos="1" onclick="toggleCard(this)">
          <div class="card-top">
            <span class="card-title">Community Management Avanzado (Full)</span>
            <input type="checkbox" class="card-check" onclick="event.stopPropagation()">
          </div>
          <p class="card-desc">La gesti&oacute;n completa de tu presencia en redes: planificaci&oacute;n editorial, respuesta de mensajes, moderaci&oacute;n de comentarios, monitoreo de marca y reportes semanales, todo incluido. Presencia activa 6 d&iacute;as a la semana. Es la opci&oacute;n para quien quiere delegar por completo esta posici&oacute;n sin preocuparse de ning&uacute;n detalle operativo.</p>
          <div class="card-footer">
            <div><span class="card-price">500&euro;</span><span class="card-unit">/ mes</span></div>
            <span class="card-badge">Full</span>
          </div>
        </div>

      </div>
    </div>

    <!-- ══════════════════════════════════════════════ -->
    <!-- POSITION 02 — GRAPHIC DESIGN                  -->
    <!-- ══════════════════════════════════════════════ -->
    <div class="pos-section" data-pos="2">
      <div class="pos-header">
        <div class="pos-dot" style="color:var(--c2);background:var(--c2);"></div>
        <div>
          <div class="pos-number">Posici&oacute;n 02</div>
          <div class="pos-name">Dise&ntilde;o Gr&aacute;fico</div>
        </div>
        <div class="pos-desc">Lo que se ve determina si la gente para a leer. Aqu&iacute; se decide el volumen, el formato y la calidad visual de todo lo que publicas cada mes.</div>
      </div>
      <div class="service-grid">

        <div class="card" style="--accent:var(--c2);--accent-rgb:123,97,255;" data-price="400" data-name="Pack Carruseles (8 / mes)" data-pos="2" onclick="toggleCard(this)">
          <div class="card-top">
            <span class="card-title">Pack Carruseles (8 / mes)</span>
            <input type="checkbox" class="card-check" onclick="event.stopPropagation()">
          </div>
          <p class="card-desc">8 carruseles al mes dise&ntilde;ados para posicionarte como referente en tu sector. Cada pieza tiene estructura narrativa propia: portada de impacto, desarrollo de contenido real y cierre con llamada a la acci&oacute;n. Son el formato que m&aacute;s guarda, comparte y genera seguidores cualificados en Instagram. Si no los tienes, tu perfil solo acumula views &mdash; sin convertir.</p>
          <div class="card-footer">
            <div><span class="card-price">400&euro;</span><span class="card-unit">/ mes</span></div>
            <span class="card-badge">Base</span>
          </div>
        </div>

        <div class="card" style="--accent:var(--c2);--accent-rgb:123,97,255;" data-price="650" data-name="Pack Carruseles (12 / mes)" data-pos="2" onclick="toggleCard(this)">
          <div class="card-top">
            <span class="card-title">Pack Carruseles (12 / mes)</span>
            <input type="checkbox" class="card-check" onclick="event.stopPropagation()">
          </div>
          <p class="card-desc">12 carruseles al mes para quienes necesitan mayor frecuencia de publicaci&oacute;n y quieren saturar su nicho con contenido de valor constante. A este volumen, el algoritmo te premia, tu audiencia te asocia directamente con tu &aacute;rea de expertise y la curva de crecimiento org&aacute;nico se acelera de forma visible. Recomendado si est&aacute;s en una fase activa de crecimiento o lanzamiento.</p>
          <div class="card-footer">
            <div><span class="card-price">650&euro;</span><span class="card-unit">/ mes</span></div>
            <span class="card-badge">Pro</span>
          </div>
        </div>

        <div class="card" style="--accent:var(--c2);--accent-rgb:123,97,255;" data-price="350" data-name="Sistema de Stories (Templates diarias)" data-pos="2" onclick="toggleCard(this)">
          <div class="card-top">
            <span class="card-title">Sistema de Stories (Templates diarias)</span>
            <input type="checkbox" class="card-check" onclick="event.stopPropagation()">
          </div>
          <p class="card-desc">Las stories son el canal m&aacute;s directo con tu audiencia diaria y el primero que ven cuando abren la app. Se crea un sistema de plantillas editables con diferentes formatos: encuestas, preguntas, contenido de valor, detr&aacute;s de c&aacute;maras y llamadas a la acci&oacute;n. Incluye gu&iacute;a mensual de uso para que cualquier persona del equipo pueda publicarlas correctamente sin romper la est&eacute;tica de marca.</p>
          <div class="card-footer">
            <div><span class="card-price">350&euro;</span><span class="card-unit">/ mes</span></div>
          </div>
        </div>

        <div class="card" style="--accent:var(--c2);--accent-rgb:123,97,255;" data-price="450" data-name="Edici&oacute;n de Reels (4 / mes)" data-pos="2" onclick="toggleCard(this)">
          <div class="card-top">
            <span class="card-title">Edici&oacute;n de Reels (4 / mes)</span>
            <input type="checkbox" class="card-check" onclick="event.stopPropagation()">
          </div>
          <p class="card-desc">4 reels editados por mes con tratamiento profesional completo: correcci&oacute;n de color, subt&iacute;tulos animados sincronizados, selecci&oacute;n musical estratégica y ritmo de edici&oacute;n adaptado al formato corto. Los reels son el principal motor de alcance org&aacute;nico en Instagram y TikTok. Con este servicio tu contenido de v&iacute;deo deja de parecer improvisado y empieza a competir visualmente con cuentas de mucho mayor tama&ntilde;o.</p>
          <div class="card-footer">
            <div><span class="card-price">450&euro;</span><span class="card-unit">/ mes</span></div>
          </div>
        </div>

        <div class="card" style="--accent:var(--c2);--accent-rgb:123,97,255;" data-price="300" data-name="Piezas de Campana y Eventos" data-pos="2" onclick="toggleCard(this)">
          <div class="card-top">
            <span class="card-title">Piezas de Campa&ntilde;a y Eventos</span>
            <input type="checkbox" class="card-check" onclick="event.stopPropagation()">
          </div>
          <p class="card-desc">Cuando tienes un evento, un lanzamiento o una campa&ntilde;a especial, necesitas piezas visuales que comuniquen urgencia, exclusividad y coherencia de marca. Se dise&ntilde;an hasta 10 artes adaptadas a distintos formatos (feed, stories, portada, banner) con lenguaje visual unificado. Evita el error habitual de publicar campa&ntilde;as con dise&ntilde;os improvisados que restan credibilidad al producto.</p>
          <div class="card-footer">
            <div><span class="card-price">300&euro;</span><span class="card-unit">/ campa&ntilde;a</span></div>
          </div>
        </div>

      </div>
    </div>

    <!-- ══════════════════════════════════════════════ -->
    <!-- POSITION 03 — DATABASE MANAGEMENT             -->
    <!-- ══════════════════════════════════════════════ -->
    <div class="pos-section" data-pos="3">
      <div class="pos-header">
        <div class="pos-dot" style="color:var(--c3);background:var(--c3);"></div>
        <div>
          <div class="pos-number">Posici&oacute;n 03</div>
          <div class="pos-name">Gesti&oacute;n de Base de Datos</div>
        </div>
        <div class="pos-desc">El orden interno que nadie ve pero que hace que todo funcione: archivos, listas de contactos, m&eacute;tricas y datos estructurados para tomar decisiones.</div>
      </div>
      <div class="service-grid">

        <div class="card" style="--accent:var(--c3);--accent-rgb:0,207,255;" data-price="300" data-name="Gesti&oacute;n Drive y Activos Digitales" data-pos="3" onclick="toggleCard(this)">
          <div class="card-top">
            <span class="card-title">Gesti&oacute;n Drive y Activos Digitales</span>
            <input type="checkbox" class="card-check" onclick="event.stopPropagation()">
          </div>
          <p class="card-desc">Si tienes carpetas en Drive con nombres como "final", "final2" o "definitivo_v3", este servicio es para ti. Se organiza toda la estructura de archivos digitales &mdash; contenido, artes, v&iacute;deos, documentos &mdash; con un sistema de nomenclatura claro, carpetas bien jerarquizadas y permisos de acceso correctamente configurados. El equipo deja de perder tiempo buscando archivos y empieza a trabajar con orden real.</p>
          <div class="card-footer">
            <div><span class="card-price">300&euro;</span><span class="card-unit">/ mes</span></div>
            <span class="card-badge">Base</span>
          </div>
        </div>

        <div class="card" style="--accent:var(--c3);--accent-rgb:0,207,255;" data-price="250" data-name="Sistema de Archivo de Contenido" data-pos="3" onclick="toggleCard(this)">
          <div class="card-top">
            <span class="card-title">Sistema de Archivo de Contenido</span>
            <input type="checkbox" class="card-check" onclick="event.stopPropagation()">
          </div>
          <p class="card-desc">Todo el contenido que se produce queda archivado con su versi&oacute;n, fecha, canal y m&eacute;trica de rendimiento asociada. Esto permite saber qu&eacute; funciona, reutilizar piezas de alto impacto y tener un historial completo del trabajo realizado. Sin este sistema, el contenido se produce, se publica y desaparece &mdash; sin aprendizaje acumulado ni posibilidad de escalar lo que ya funciona.</p>
          <div class="card-footer">
            <div><span class="card-price">250&euro;</span><span class="card-unit">/ mes</span></div>
          </div>
        </div>

        <div class="card" style="--accent:var(--c3);--accent-rgb:0,207,255;" data-price="350" data-name="Base de Datos de Contactos y Leads" data-pos="3" onclick="toggleCard(this)">
          <div class="card-top">
            <span class="card-title">Base de Datos de Contactos y Leads</span>
            <input type="checkbox" class="card-check" onclick="event.stopPropagation()">
          </div>
          <p class="card-desc">Una base de datos sucia es dinero perdido. Este servicio incluye la limpieza peri&oacute;dica de contactos duplicados o inactivos, la segmentaci&oacute;n por perfiles de inter&eacute;s o etapa del embudo, y la preparaci&oacute;n de listas limpias listas para usar en cada campa&ntilde;a. La calidad de tus resultados en email marketing y publicidad de pago depende directamente de cu&aacute;n bien est&eacute; segmentada tu base de datos.</p>
          <div class="card-footer">
            <div><span class="card-price">350&euro;</span><span class="card-unit">/ mes</span></div>
          </div>
        </div>

        <div class="card" style="--accent:var(--c3);--accent-rgb:0,207,255;" data-price="400" data-name="Reportes y Dashboards de Rendimiento" data-pos="3" onclick="toggleCard(this)">
          <div class="card-top">
            <span class="card-title">Reportes y Dashboards de Rendimiento</span>
            <input type="checkbox" class="card-check" onclick="event.stopPropagation()">
          </div>
          <p class="card-desc">Se crean dashboards visuales que consolidan en un solo lugar todas las m&eacute;tricas relevantes: alcance, engagement, apertura de emails, conversiones, crecimiento de seguidores y estado de los objetivos del mes. Sin esto, cada reuni&oacute;n empieza buscando n&uacute;meros en sitios distintos. Con esto, la toma de decisiones se basa en datos reales actualizados &mdash; no en intuici&oacute;n.</p>
          <div class="card-footer">
            <div><span class="card-price">400&euro;</span><span class="card-unit">/ mes</span></div>
            <span class="card-badge">Pro</span>
          </div>
        </div>

      </div>
    </div>

    <!-- ══════════════════════════════════════════════ -->
    <!-- POSITION 04 — EMAIL / FULL MARKETING          -->
    <!-- ══════════════════════════════════════════════ -->
    <div class="pos-section" data-pos="4">
      <div class="pos-header">
        <div class="pos-dot" style="color:var(--c4);background:var(--c4);"></div>
        <div>
          <div class="pos-number">Posici&oacute;n 04</div>
          <div class="pos-name">Email Marketing &amp; Estrategia</div>
        </div>
        <div class="pos-desc">Desde enviar emails a tu lista hasta tener a alguien que piensa y dirige toda la estrategia de marketing de tu negocio. Elige el nivel que necesitas.</div>
      </div>
      <div class="service-grid">

        <div class="card" style="--accent:var(--c4);--accent-rgb:255,107,53;" data-price="350" data-name="Email Marketing Mensual (4 campa&ntilde;as)" data-pos="4" onclick="toggleCard(this)">
          <div class="card-top">
            <span class="card-title">Email Marketing Mensual (4 campa&ntilde;as)</span>
            <input type="checkbox" class="card-check" onclick="event.stopPropagation()">
          </div>
          <p class="card-desc">El email sigue siendo el canal con mayor retorno de inversi&oacute;n de todos los canales digitales. Se gestionan 4 env&iacute;os mensuales completos: redacci&oacute;n del copy, dise&ntilde;o de la plantilla, segmentaci&oacute;n de la lista y an&aacute;lisis de apertura y clics post-env&iacute;o. Si ya tienes una lista pero no la est&aacute;s usando de forma consistente, estás dejando caducar uno de tus activos m&aacute;s valiosos.</p>
          <div class="card-footer">
            <div><span class="card-price">350&euro;</span><span class="card-unit">/ mes</span></div>
            <span class="card-badge">Base</span>
          </div>
        </div>

        <div class="card" style="--accent:var(--c4);--accent-rgb:255,107,53;" data-price="500" data-name="Automatizaciones y Secuencias de Email" data-pos="4" onclick="toggleCard(this)">
          <div class="card-top">
            <span class="card-title">Automatizaciones y Secuencias de Email</span>
            <input type="checkbox" class="card-check" onclick="event.stopPropagation()">
          </div>
          <p class="card-desc">Las automatizaciones trabajan mientras t&uacute; duermes. Se dise&ntilde;an e implementan flujos que se activan autom&aacute;ticamente seg&uacute;n el comportamiento del usuario: secuencia de bienvenida para nuevos suscriptores, flujo de nutrici&oacute;n para leads fr&iacute;os, recuperaci&oacute;n de contactos inactivos y seguimiento post-evento o post-lanzamiento. Una vez configurados, estos flujos generan ventas y retenci&oacute;n de forma continua sin intervenci&oacute;n manual.</p>
          <div class="card-footer">
            <div><span class="card-price">500&euro;</span><span class="card-unit">/ mes</span></div>
          </div>
        </div>

        <div class="card" style="--accent:var(--c4);--accent-rgb:255,107,53;" data-price="450" data-name="Redacci&oacute;n de Scripts y Copys" data-pos="4" onclick="toggleCard(this)">
          <div class="card-top">
            <span class="card-title">Redacci&oacute;n de Scripts y Copys</span>
            <input type="checkbox" class="card-check" onclick="event.stopPropagation()">
          </div>
          <p class="card-desc">Todo lo que David o Xavi comunican en c&aacute;mara o por escrito tiene que sonar aut&eacute;ntico, claro y con intenci&oacute;n de venta. Se redactan los scripts de los v&iacute;deos con estructura narrativa, los copys de los anuncios para Meta y Google, y los textos de landing pages o secuencias de venta. La voz siempre est&aacute; adaptada al tono de marca &mdash; no suena a texto gen&eacute;rico ni a promoci&oacute;n agresiva.</p>
          <div class="card-footer">
            <div><span class="card-price">450&euro;</span><span class="card-unit">/ mes</span></div>
          </div>
        </div>

        <div class="card" style="--accent:var(--c4);--accent-rgb:255,107,53;" data-price="700" data-name="Direcci&oacute;n Estrat&eacute;gica (Monthly)" data-pos="4" onclick="toggleCard(this)">
          <div class="card-top">
            <span class="card-title">Direcci&oacute;n Estrat&eacute;gica (Monthly)</span>
            <input type="checkbox" class="card-check" onclick="event.stopPropagation()">
          </div>
          <p class="card-desc">Una persona con visi&oacute;n estrat&eacute;gica que supervisa que todo lo que se produce y publica est&eacute; alineado con el posicionamiento de la marca y los objetivos del mes. Incluye la definici&oacute;n de la narrativa mensual, revisi&oacute;n del rendimiento y dos sesiones de alineaci&oacute;n. Ideal si ya tienes equipo operativo pero necesitas alguien que garantice coherencia y direcci&oacute;n en todo lo que sale al mercado.</p>
          <div class="card-footer">
            <div><span class="card-price">700&euro;</span><span class="card-unit">/ mes</span></div>
            <span class="card-badge">Pro</span>
          </div>
        </div>

        <div class="card" style="--accent:var(--c4);--accent-rgb:255,107,53;" data-price="950" data-name="CMO Fraccionado (Marketing Completo)" data-pos="4" onclick="toggleCard(this)">
          <div class="card-top">
            <span class="card-title">CMO Fraccionado (Marketing Completo)</span>
            <input type="checkbox" class="card-check" onclick="event.stopPropagation()">
          </div>
          <p class="card-desc">HYBRYD act&uacute;a como tu Director de Marketing externo. Se gestiona la estrategia global, la coordinaci&oacute;n de todos los servicios activos, las decisiones de posicionamiento y la supervisi&oacute;n de resultados &mdash; todo ello sin que necesites contratar un CMO interno. Pagas la capacidad de un departamento completo por una fracci&oacute;n del coste. Es la opci&oacute;n para quien quiere escalar de forma seria sin inflar la estructura.</p>
          <div class="card-footer">
            <div><span class="card-price">950&euro;</span><span class="card-unit">/ mes</span></div>
            <span class="card-badge">Full</span>
          </div>
        </div>

        <div class="card" style="--accent:var(--c4);--accent-rgb:255,107,53;" data-price="600" data-name="Paid Ads (Meta / Google)" data-pos="4" onclick="toggleCard(this)">
          <div class="card-top">
            <span class="card-title">Paid Ads (Meta / Google)</span>
            <input type="checkbox" class="card-check" onclick="event.stopPropagation()">
          </div>
          <p class="card-desc">Se configuran y gestionan las campa&ntilde;as de publicidad de pago en Meta (Facebook e Instagram) y Google Ads: estructura de campa&ntilde;a, definici&oacute;n de p&uacute;blicos, redacci&oacute;n de copies y optimizaci&oacute;n continua seg&uacute;n rendimiento. El presupuesto publicitario que inviertes directamente en las plataformas va aparte y es tuyo. Este honorario cubre exclusivamente la estrategia, configuraci&oacute;n y gesti&oacute;n profesional de ese presupuesto.</p>
          <div class="card-footer">
            <div><span class="card-price">600&euro;</span><span class="card-unit">/ mes</span></div>
          </div>
        </div>

      </div>
    </div>

    <!-- ══════════════════════════════════════════════ -->
    <!-- POSITION 05 — CUSTOMER SERVICE SUPPORT        -->
    <!-- ══════════════════════════════════════════════ -->
    <div class="pos-section" data-pos="5">
      <div class="pos-header">
        <div class="pos-dot" style="color:var(--c5);background:var(--c5);"></div>
        <div>
          <div class="pos-number">Posici&oacute;n 05</div>
          <div class="pos-name">Customer Service Support</div>
        </div>
        <div class="pos-desc">Quien cuida a tus clientes despu&eacute;s de que compran y quien mantiene al equipo coordinado d&iacute;a a d&iacute;a. La posici&oacute;n que sostiene todo lo dem&aacute;s.</div>
      </div>
      <div class="service-grid">

        <div class="card" style="--accent:var(--c5);--accent-rgb:255,204,0;" data-price="400" data-name="Atenci&oacute;n al Cliente (Mensajes y Consultas)" data-pos="5" onclick="toggleCard(this)">
          <div class="card-top">
            <span class="card-title">Atenci&oacute;n al Cliente (Mensajes y Consultas)</span>
            <input type="checkbox" class="card-check" onclick="event.stopPropagation()">
          </div>
          <p class="card-desc">Toda persona que contacta con tu marca esperando una respuesta es un cliente potencial o un cliente activo que necesita sentirse atendido. Se gestionan todas las consultas entrantes por email, mensajes directos y WhatsApp con protocolo de respuesta definido y tiempos m&aacute;ximos de 24 horas. Cada interacci&oacute;n sigue el tono y los protocolos de tu marca. Sin esto, los leads se enfrían y los clientes existentes perciben desorden.</p>
          <div class="card-footer">
            <div><span class="card-price">400&euro;</span><span class="card-unit">/ mes</span></div>
            <span class="card-badge">Base</span>
          </div>
        </div>

        <div class="card" style="--accent:var(--c5);--accent-rgb:255,204,0;" data-price="350" data-name="Soporte Operativo Diario (WhatsApp)" data-pos="5" onclick="toggleCard(this)">
          <div class="card-top">
            <span class="card-title">Soporte Operativo Diario (WhatsApp)</span>
            <input type="checkbox" class="card-check" onclick="event.stopPropagation()">
          </div>
          <p class="card-desc">El punto de contacto directo entre t&uacute; y el equipo para que la operaci&oacute;n fluya sin cuellos de botella. Coordinaci&oacute;n diaria por WhatsApp en d&iacute;as laborables: resolución de dudas en tiempo real, gesti&oacute;n de imprevistos, confirmaci&oacute;n de entregas y alineaci&oacute;n de prioridades. Elimina los hilos interminables de mensajes sin respuesta y garantiza que nada se quede bloqueado por falta de comunicaci&oacute;n.</p>
          <div class="card-footer">
            <div><span class="card-price">350&euro;</span><span class="card-unit">/ mes</span></div>
          </div>
        </div>

        <div class="card" style="--accent:var(--c5);--accent-rgb:255,204,0;" data-price="300" data-name="Seguimiento Post-Venta y Retenci&oacute;n" data-pos="5" onclick="toggleCard(this)">
          <div class="card-top">
            <span class="card-title">Seguimiento Post-Venta y Retenci&oacute;n</span>
            <input type="checkbox" class="card-check" onclick="event.stopPropagation()">
          </div>
          <p class="card-desc">El momento en que alguien compra o se inscribe es solo el principio. Este servicio gestiona el contacto posterior al cierre con una secuencia estructurada: mensaje de bienvenida, confirmaci&oacute;n de expectativas, check-in a los 7 d&iacute;as y puntos de contacto programados para garantizar satisfacci&oacute;n y detectar oportunidades de upgrade o referido. Los clientes que se sienten atendidos despu&eacute;s de comprar son los que m&aacute;s repiten y m&aacute;s recomiendan.</p>
          <div class="card-footer">
            <div><span class="card-price">300&euro;</span><span class="card-unit">/ mes</span></div>
          </div>
        </div>

        <div class="card" style="--accent:var(--c5);--accent-rgb:255,204,0;" data-price="350" data-name="Reuniones de Seguimiento Semanales (4/mes)" data-pos="5" onclick="toggleCard(this)">
          <div class="card-top">
            <span class="card-title">Reuniones de Seguimiento Semanales (4/mes)</span>
            <input type="checkbox" class="card-check" onclick="event.stopPropagation()">
          </div>
          <p class="card-desc">4 reuniones mensuales estructuradas &mdash; una por semana &mdash; con orden del d&iacute;a definido y actas de seguimiento. En cada sesi&oacute;n se revisan los resultados de la semana anterior, se identifican bloqueos, se toman decisiones basadas en datos y se establecen las prioridades de la pr&oacute;xima semana. Sin esta cadencia, los equipos trabajan sin visibilidad compartida y los problemas se detectan cuando ya es dif&iacute;cil corregirlos.</p>
          <div class="card-footer">
            <div><span class="card-price">350&euro;</span><span class="card-unit">/ mes</span></div>
          </div>
        </div>

        <div class="card" style="--accent:var(--c5);--accent-rgb:255,204,0;" data-price="500" data-name="Gesti&oacute;n de Comunidad Privada (Discord / Grupo)" data-pos="5" onclick="toggleCard(this)">
          <div class="card-top">
            <span class="card-title">Gesti&oacute;n Comunidad Privada (Discord / Grupo)</span>
            <input type="checkbox" class="card-check" onclick="event.stopPropagation()">
          </div>
          <p class="card-desc">Si tienes un grupo privado de Discord, Telegram o WhatsApp con alumnos o clientes, su valor depende completamente de cu&aacute;n activa est&eacute; la comunidad. Se gestionan la moderaci&oacute;n diaria, las interacciones para mantener el nivel de actividad alto, la publicaci&oacute;n de contenido exclusivo y la detecci&oacute;n de miembros en riesgo de abandono. Una comunidad bien gestionada es tu mayor activo de retenci&oacute;n y la fuente m&aacute;s potente de testimonios y referidos org&aacute;nicos.</p>
          <div class="card-footer">
            <div><span class="card-price">500&euro;</span><span class="card-unit">/ mes</span></div>
            <span class="card-badge">Pro</span>
          </div>
        </div>

      </div>
    </div>

    <div class="divider"></div>

    <!-- FULL BREAKDOWN -->
    <div class="breakdown">
      <div class="breakdown-header">
        <h2>Resumen del Presupuesto</h2>
        <p>Aqu&iacute; se refleja exactamente en qu&eacute; estás invirtiendo y cu&aacute;nto representa cada euro del presupuesto total.</p>
      </div>
      <div class="breakdown-card">
        <div class="breakdown-list" id="breakdownList">
          <p class="breakdown-empty" id="breakdownEmpty">Selecciona servicios arriba para construir tu presupuesto.</p>
        </div>
        <div class="breakdown-totals">
          <div class="bt-row">
            <span class="bt-label">Subtotal</span>
            <span class="bt-val" id="subtotal" data-raw="0">0,00&euro;</span>
          </div>
          <div class="bt-row">
            <span class="bt-label">IVA (21%)</span>
            <span class="bt-val" id="vatAmount" data-raw="0">0,00&euro;</span>
          </div>
          <div class="bt-sep"></div>
          <div class="bt-row final">
            <span class="bt-label">Total con IVA</span>
            <span class="bt-val" id="finalTotal" data-raw="0">0,00&euro;</span>
          </div>
        </div>
      </div>
      <div class="actions">
        <button class="btn btn-primary" onclick="generatePDF()">Generar Presupuesto PDF</button>
        <button class="btn btn-outline" onclick="sendByEmail()">Enviar por Email</button>
        <button class="btn btn-reset" onclick="resetAll()">Limpiar</button>
      </div>
    </div>

    <div class="footer-line">
      <p><strong>HYBRYD</strong> is built on structure. Now choose yours.</p>
    </div>

  </div>
</section>

<!-- STICKY PILL -->
<div class="summary-sticky" id="summarySticky" style="display:none;">
  <div class="container">
    <div class="summary-pill">
      <div class="summary-counts" id="summaryCounts"></div>
      <div class="summary-sep"></div>
      <div class="summary-total-wrap">
        <span class="summary-total-label">Total + IVA</span>
        <span class="summary-total-num" id="pillTotal">0,00&euro;</span>
      </div>
    </div>
  </div>
</div>

<div class="toast" id="toast"></div>

<script>
  const VAT = 0.21;
  const selected = new Map();

  const POS_COLORS = {
    1: '#00ff41',
    2: '#7b61ff',
    3: '#00cfff',
    4: '#ff6b35',
    5: '#ffcc00'
  };

  const POS_NAMES = {
    1: 'Community Mgmt',
    2: 'Dise\u00f1o Gr\u00e1fico',
    3: 'Base de Datos',
    4: 'Email / Marketing',
    5: 'Customer Service'
  };

  function toggleCard(card) {
    const cb = card.querySelector('.card-check');
    const on = !cb.checked;
    cb.checked = on;
    card.classList.toggle('selected', on);
    if (on) {
      selected.set(card, {
        name: card.dataset.name,
        price: parseInt(card.dataset.price, 10),
        pos: parseInt(card.dataset.pos, 10)
      });
    } else {
      selected.delete(card);
    }
    render();
  }

  function render() {
    // breakdown list
    const list = document.getElementById('breakdownList');
    const empty = document.getElementById('breakdownEmpty');
    list.querySelectorAll('.b-item').forEach(e => e.remove());

    if (selected.size === 0) {
      empty.style.display = 'block';
    } else {
      empty.style.display = 'none';
      selected.forEach(({ name, price, pos }) => {
        const row = document.createElement('div');
        row.className = 'b-item';
        row.innerHTML =
          '<div class="b-item-left">' +
            '<div class="b-dot" style="background:' + POS_COLORS[pos] + ';box-shadow:0 0 6px ' + POS_COLORS[pos] + ';"></div>' +
            '<span class="b-name">' + name + '</span>' +
          '</div>' +
          '<span class="b-price">' + fmt(price) + '</span>';
        list.appendChild(row);
      });
    }

    // totals
    let sub = 0;
    selected.forEach(({ price }) => { sub += price; });
    const vat = sub * VAT;
    const total = sub + vat;

    anim('subtotal', sub);
    anim('vatAmount', vat);
    anim('finalTotal', total);

    // sticky pill
    const sticky = document.getElementById('summarySticky');
    if (selected.size === 0) {
      sticky.style.display = 'none';
    } else {
      sticky.style.display = 'block';
      // count by position
      const counts = {};
      selected.forEach(({ pos }) => { counts[pos] = (counts[pos] || 0) + 1; });
      const countsEl = document.getElementById('summaryCounts');
      countsEl.innerHTML = '';
      Object.entries(counts).forEach(([pos, count]) => {
        const item = document.createElement('div');
        item.className = 'summary-count-item';
        item.innerHTML =
          '<span class="summary-count-num" style="color:' + POS_COLORS[pos] + ';text-shadow:0 0 10px ' + POS_COLORS[pos] + ';">' + count + '</span>' +
          '<span class="summary-count-label">' + POS_NAMES[pos] + '</span>';
        countsEl.appendChild(item);
      });
      document.getElementById('pillTotal').textContent = fmt(total);
    }
  }

  function fmt(n) {
    return new Intl.NumberFormat('es-ES', { minimumFractionDigits: 2, maximumFractionDigits: 2 }).format(n) + '\u20ac';
  }

  function anim(id, target) {
    const el = document.getElementById(id);
    el.classList.remove('counting');
    void el.offsetWidth;
    el.classList.add('counting');
    const dur = 350, start = Date.now();
    const from = parseFloat(el.dataset.raw || 0);
    el.dataset.raw = target;
    (function step() {
      const t = Math.min((Date.now() - start) / dur, 1);
      const e = 1 - Math.pow(1 - t, 3);
      el.textContent = fmt(from + (target - from) * e);
      if (t < 1) requestAnimationFrame(step);
      else el.textContent = fmt(target);
    })();
  }

  // Budget presets
  const PRESETS = {
    1500: [
      // community base + stories
      { pos: 1, name: 'Gesti\u00f3n de Contenido y Calendario' },
      { pos: 2, name: 'Sistema de Stories (Templates diarias)' },
      { pos: 5, name: 'Soporte Operativo Diario (WhatsApp)' }
    ],
    2000: [
      { pos: 1, name: 'Gesti\u00f3n de Contenido y Calendario' },
      { pos: 1, name: 'Gesti\u00f3n de DMs y Comentarios' },
      { pos: 2, name: 'Pack Carruseles (8 / mes)' },
      { pos: 5, name: 'Atenci\u00f3n al Cliente (Mensajes y Consultas)' }
    ],
    2500: [
      { pos: 1, name: 'Community Management Avanzado (Full)' },
      { pos: 2, name: 'Pack Carruseles (8 / mes)' },
      { pos: 2, name: 'Sistema de Stories (Templates diarias)' },
      { pos: 3, name: 'Gesti\u00f3n Drive y Activos Digitales' },
      { pos: 5, name: 'Atenci\u00f3n al Cliente (Mensajes y Consultas)' }
    ],
    3000: [
      { pos: 1, name: 'Community Management Avanzado (Full)' },
      { pos: 2, name: 'Pack Carruseles (8 / mes)' },
      { pos: 2, name: 'Edici\u00f3n de Reels (4 / mes)' },
      { pos: 3, name: 'Gesti\u00f3n Drive y Activos Digitales' },
      { pos: 4, name: 'Email Marketing Mensual (4 campa\u00f1as)' },
      { pos: 5, name: 'Soporte Operativo Diario (WhatsApp)' }
    ],
    4000: [
      { pos: 1, name: 'Community Management Avanzado (Full)' },
      { pos: 2, name: 'Pack Carruseles (12 / mes)' },
      { pos: 2, name: 'Sistema de Stories (Templates diarias)' },
      { pos: 3, name: 'Gesti\u00f3n Drive y Activos Digitales' },
      { pos: 3, name: 'Base de Datos de Contactos y Leads' },
      { pos: 4, name: 'Email Marketing Mensual (4 campa\u00f1as)' },
      { pos: 5, name: 'Atenci\u00f3n al Cliente (Mensajes y Consultas)' },
      { pos: 5, name: 'Seguimiento Post-Venta y Retenci\u00f3n' }
    ],
    6000: [
      { pos: 1, name: 'Community Management Avanzado (Full)' },
      { pos: 2, name: 'Pack Carruseles (12 / mes)' },
      { pos: 2, name: 'Sistema de Stories (Templates diarias)' },
      { pos: 2, name: 'Edici\u00f3n de Reels (4 / mes)' },
      { pos: 3, name: 'Gesti\u00f3n Drive y Activos Digitales' },
      { pos: 3, name: 'Sistema de Archivo de Contenido' },
      { pos: 3, name: 'Reportes y Dashboards de Rendimiento' },
      { pos: 4, name: 'Email Marketing Mensual (4 campa\u00f1as)' },
      { pos: 4, name: 'Automatizaciones y Secuencias de Email' },
      { pos: 4, name: 'Direcci\u00f3n Estrat\u00e9gica (Monthly)' },
      { pos: 5, name: 'Atenci\u00f3n al Cliente (Mensajes y Consultas)' },
      { pos: 5, name: 'Soporte Operativo Diario (WhatsApp)' },
      { pos: 5, name: 'Reuniones de Seguimiento Semanales (4/mes)' }
    ]
  };

  function applyDial(budget, btn) {
    document.querySelectorAll('.dial-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    resetAll(true);

    const preset = PRESETS[budget];
    if (!preset) return;

    const allCards = document.querySelectorAll('.card');
    preset.forEach(({ name }) => {
      allCards.forEach(card => {
        const cardName = card.dataset.name || '';
        if (cardName === name && !card.querySelector('.card-check').checked) {
          toggleCard(card);
        }
      });
    });

    let sub = 0;
    selected.forEach(({ price }) => { sub += price; });
    showToast('Selecci\u00f3n sugerida: ~' + fmt(sub) + ' / mes (sin IVA)');
  }

  function resetAll(silent) {
    document.querySelectorAll('.card.selected').forEach(c => {
      c.classList.remove('selected');
      c.querySelector('.card-check').checked = false;
    });
    selected.clear();
    render();
    if (!silent) {
      document.querySelectorAll('.dial-btn').forEach(b => b.classList.remove('active'));
      showToast('Selecci\u00f3n limpiada.');
    }
  }

  function generatePDF() {
    if (selected.size === 0) { showToast('Selecciona al menos un servicio.'); return; }
    let sub = 0, rows = '';
    const byPos = {};
    selected.forEach(({ name, price, pos }) => {
      sub += price;
      if (!byPos[pos]) byPos[pos] = [];
      byPos[pos].push({ name, price });
    });

    Object.entries(byPos).forEach(([pos, items]) => {
      rows += '<tr><td colspan="2" style="padding:16px 0 6px;font-size:9px;letter-spacing:.18em;text-transform:uppercase;color:' + POS_COLORS[pos] + ';border-bottom:1px solid ' + POS_COLORS[pos] + '40;">' + POS_NAMES[pos] + '</td></tr>';
      items.forEach(({ name, price }) => {
        rows += '<tr><td style="padding:8px 0;border-bottom:1px solid #1a2a1e;color:#c8d6cc;font-size:12px;">' + name + '</td><td style="padding:8px 0;border-bottom:1px solid #1a2a1e;color:#fff;font-weight:600;text-align:right;font-size:12px;">' + fmt(price) + '</td></tr>';
      });
    });

    const vat = sub * VAT, total = sub + vat;
    const date = new Date().toLocaleDateString('es-ES', { year:'numeric', month:'long', day:'numeric' });

    const html = '<!DOCTYPE html><html><head><meta charset="UTF-8"><title>HYBRYD Presupuesto</title>' +
      '<style>body{font-family:Segoe UI,Arial,sans-serif;background:#050a07;color:#c8d6cc;padding:60px 40px;max-width:720px;margin:0 auto;}' +
      'h1{color:#00ff41;font-size:28px;font-weight:800;letter-spacing:-.02em;margin-bottom:4px;}' +
      '.sub{color:#5a7062;font-size:10px;letter-spacing:.2em;text-transform:uppercase;margin-bottom:40px;display:block;}' +
      '.date{color:#5a7062;font-size:11px;margin-bottom:40px;display:block;}' +
      'table{width:100%;border-collapse:collapse;}' +
      '.tr td{padding:12px 0;font-size:13px;color:#c8d6cc;border-top:1px solid #00ff41;}' +
      '.fin td{font-size:22px;font-weight:800;color:#00ff41;padding:14px 0;border-top:2px solid #00ff41;}' +
      '.foot{color:#5a7062;font-size:10px;letter-spacing:.2em;text-transform:uppercase;margin-top:60px;border-top:1px solid #1a2a1e;padding-top:24px;}</style></head>' +
      '<body><h1>HYBRYD</h1><span class="sub">Propuesta de Servicios &mdash; Presupuesto Personalizado</span>' +
      '<span class="date">Fecha: ' + date + '</span>' +
      '<table><tbody>' + rows +
      '<tr class="tr"><td>Subtotal</td><td style="text-align:right;">' + fmt(sub) + '</td></tr>' +
      '<tr class="tr"><td>IVA (21%)</td><td style="text-align:right;">' + fmt(vat) + '</td></tr>' +
      '<tr class="fin"><td>Total con IVA</td><td style="text-align:right;">' + fmt(total) + '</td></tr>' +
      '</tbody></table><p class="foot">HYBRYD is built on structure. Now choose yours.</p></body></html>';

    const win = window.open('', '_blank');
    if (win) { win.document.write(html); win.document.close(); win.onload = () => win.print(); }
    showToast('Presupuesto listo \u2014 Imprimir > Guardar como PDF.');
  }

  function sendByEmail() {
    if (selected.size === 0) { showToast('Selecciona al menos un servicio.'); return; }
    let sub = 0, body = 'HYBRYD \u2014 Propuesta de Servicios%0A%0A';
    const byPos = {};
    selected.forEach(({ name, price, pos }) => {
      sub += price;
      if (!byPos[pos]) byPos[pos] = [];
      byPos[pos].push({ name, price });
    });
    Object.entries(byPos).forEach(([pos, items]) => {
      body += POS_NAMES[pos].toUpperCase() + '%0A';
      items.forEach(({ name, price }) => { body += '\u2014 ' + name + ': ' + fmt(price) + '%0A'; });
      body += '%0A';
    });
    const vat = sub * VAT, total = sub + vat;
    body += 'Subtotal: ' + fmt(sub) + '%0AIVA (21%25): ' + fmt(vat) + '%0ATotal con IVA: ' + fmt(total) + '%0A%0AHYBRYD is built on structure. Now choose yours.';
    window.location.href = 'mailto:?subject=HYBRYD%20%E2%80%94%20Propuesta%20de%20Servicios&body=' + body;
    showToast('Cliente de email abierto con la selecci\u00f3n.');
  }

  function showToast(msg) {
    const t = document.getElementById('toast');
    t.textContent = msg;
    t.classList.add('show');
    setTimeout(() => t.classList.remove('show'), 3400);
  }
</script>

</body>
</html>
